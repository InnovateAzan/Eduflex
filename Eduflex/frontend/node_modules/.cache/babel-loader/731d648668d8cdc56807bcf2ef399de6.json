{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\AdminComponents\\\\canteen\\\\EditMember.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"../../store/axios\";\nimport CanteenNav from \"./CanteenNav\";\nimport { errorAlert, successAlert } from \"../../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditMember() {\n  _s();\n  const [name, setname] = useState(\"\");\n  const [paymentMethod, setpaymentMethod] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const [paymentPlan, setpaymentPlan] = useState([]);\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    axios.get(`/canteen/${id}`).then(res => {\n      if (res.data.error) {\n        console.log(res.data.error);\n        return 0;\n      }\n      const member = res.data.user;\n      setname(member === null || member === void 0 ? void 0 : member.name);\n      setpaymentMethod(member === null || member === void 0 ? void 0 : member.paymentMethod);\n    });\n  }, [id]);\n  useEffect(() => {\n    axios.get(\"/paymentplan\").then(res => {\n      var _res$data;\n      setpaymentPlan((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.plans);\n      console.log(res.data);\n    });\n  }, []);\n  const handleEdit = e => {\n    e.preventDefault();\n    setloading(true);\n    axios.put(`/canteen/update/${id}`, {\n      paymentMethod,\n      name\n    }).then(res => {\n      setloading(false);\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n      successAlert(\"Successfully edited\");\n    }).catch(() => {\n      setloading(false);\n      errorAlert(\"something went wrong\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(CanteenNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Edit Canteen Member \", id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"content__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: name,\n          readOnly: true\n          //onChange={e => setname(e.target.value)}\n          ,\n          className: \"form-control\",\n          name: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Select Payment Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: [\"Select Payment Plan\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/canteen/payments/plan\",\n            children: \"View Payment Plans available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => setpaymentMethod(e.target.value),\n          name: \"paymentMethod\",\n          className: \"form-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            defaultValue: true,\n            hidden: true,\n            children: \"Choose...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), paymentPlan.length > 0 ? paymentPlan.map(e => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: e.plan,\n            children: e.name\n          }, e._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"option\", {\n            disabled: true,\n            children: \"no data yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: loading,\n          onClick: handleEdit,\n          className: \"btn blue__btn\",\n          children: [loading && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"spinner-border spinner-border-sm\",\n            role: \"status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), \"Save Changes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(EditMember, \"H/IxRgQeWFrtSplGQUfMBAquKso=\", false, function () {\n  return [useParams];\n});\n_c = EditMember;\nexport default EditMember;\nvar _c;\n$RefreshReg$(_c, \"EditMember\");","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","CanteenNav","errorAlert","successAlert","jsxDEV","_jsxDEV","EditMember","_s","name","setname","paymentMethod","setpaymentMethod","loading","setloading","paymentPlan","setpaymentPlan","id","get","then","res","data","error","console","log","member","user","_res$data","plans","handleEdit","e","preventDefault","put","catch","children","fileName","_jsxFileName","lineNumber","columnNumber","className","type","value","readOnly","href","onChange","target","defaultValue","hidden","length","map","plan","_id","disabled","onClick","role","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/AdminComponents/canteen/EditMember.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"../../store/axios\";\nimport CanteenNav from \"./CanteenNav\";\nimport { errorAlert, successAlert } from \"../../utils\";\n\nfunction EditMember() {\n  const [name, setname] = useState(\"\");\n  const [paymentMethod, setpaymentMethod] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const [paymentPlan, setpaymentPlan] = useState([]);\n  const { id } = useParams();\n\n  useEffect(() => {\n    axios.get(`/canteen/${id}`).then((res) => {\n      if (res.data.error) {\n        console.log(res.data.error);\n        return 0;\n      }\n      const member = res.data.user;\n      setname(member?.name);\n      setpaymentMethod(member?.paymentMethod);\n    });\n  }, [id]);\n\n  useEffect(() => {\n    axios.get(\"/paymentplan\").then((res) => {\n      setpaymentPlan(res.data?.plans);\n      console.log(res.data);\n    });\n  }, []);\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    setloading(true);\n    axios\n      .put(`/canteen/update/${id}`, { paymentMethod, name })\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"Successfully edited\");\n      })\n      .catch(() => {\n        setloading(false);\n        errorAlert(\"something went wrong\");\n      });\n  };\n\n  return (\n    <div>\n      <CanteenNav />\n      <h3>Edit Canteen Member {id}</h3>\n      <form className=\"content__container\">\n        <div className=\"col-md-6 mb-4\">\n          <label className=\"form-label\">Name</label>\n          <input\n            type=\"text\"\n            value={name}\n            readOnly\n            //onChange={e => setname(e.target.value)}\n            className=\"form-control\"\n            name=\"name\"\n          />\n        </div>\n        <div className=\"col-md-8 mb-3\">\n          <label className=\"form-label\">Select Payment Method</label>\n          <label className=\"form-label\">\n            Select Payment Plan{\" \"}\n            <a href=\"/canteen/payments/plan\">View Payment Plans available</a>\n          </label>\n          <select\n            onChange={(e) => setpaymentMethod(e.target.value)}\n            name=\"paymentMethod\"\n            className=\"form-select\"\n          >\n            <option defaultValue hidden>\n              Choose...\n            </option>\n            {paymentPlan.length > 0 ? (\n              paymentPlan.map((e) => (\n                <option key={e._id} value={e.plan}>\n                  {e.name}\n                </option>\n              ))\n            ) : (\n              <option disabled>no data yet</option>\n            )}\n          </select>\n        </div>\n        <div>\n          <button\n            disabled={loading}\n            onClick={handleEdit}\n            className=\"btn blue__btn\"\n          >\n            {loading && (\n              <span\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n              ></span>\n            )}\n            Save Changes\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default EditMember;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}