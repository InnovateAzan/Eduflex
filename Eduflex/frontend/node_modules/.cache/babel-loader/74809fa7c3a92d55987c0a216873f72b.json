{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\AdminComponents\\\\canteen\\\\Members.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport ListTable from \"../shared/ListTable\";\nimport axios from \"../../store/axios\";\nimport { useHistory } from \"react-router-dom\";\nimport CanteenNav from \"./CanteenNav\";\nimport { errorAlert } from \"../../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Members() {\n  _s();\n  const [data, setdata] = useState([]);\n  const [loading, setloading] = useState(false);\n  const history = useHistory();\n  const tableHeader = [{\n    id: \"memberID\",\n    name: \" Member ID\"\n  }, {\n    id: \"userID\",\n    name: \"School ID\"\n  }, {\n    id: \"name\",\n    name: \"Name\"\n  }, {\n    id: \"role\",\n    name: \"Type\"\n  }, {\n    id: \"paymentMethod\",\n    name: \"Payment Method\"\n  }];\n  useEffect(() => {\n    axios.get(\"/canteen\").then(res => {\n      setdata(res.data);\n    });\n  }, []);\n  const handleEdit = id => {\n    history.push(`/canteen/members/edit/${id}`);\n  };\n  const handleDelete = id => {\n    let ans = window.confirm(\"Are you sure you want to delete\");\n    if (ans) {\n      setloading(true);\n      axios.delete(`/canteen/delete/${id}`).then(() => {\n        setloading(false);\n        setdata(data.filter(res => res.memberID !== id));\n      }).catch(err => {\n        console.log(err);\n        errorAlert(\"something went wrong\");\n        setloading(false);\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-5\",\n      children: /*#__PURE__*/_jsxDEV(CanteenNav, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"mb-3\",\n      children: \"Canteen Members\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListTable, {\n      data: data,\n      isCanteen: true,\n      tableHeader: tableHeader,\n      handleEdit: handleEdit,\n      handleDelete: handleDelete,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(Members, \"YhjWb3eFptai7nAtpQYOQDRgENU=\", false, function () {\n  return [useHistory];\n});\n_c = Members;\nexport default Members;\nvar _c;\n$RefreshReg$(_c, \"Members\");","map":{"version":3,"names":["React","useEffect","useState","ListTable","axios","useHistory","CanteenNav","errorAlert","jsxDEV","_jsxDEV","Members","_s","data","setdata","loading","setloading","history","tableHeader","id","name","get","then","res","handleEdit","push","handleDelete","ans","window","confirm","delete","filter","memberID","catch","err","console","log","children","className","fileName","_jsxFileName","lineNumber","columnNumber","isCanteen","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/AdminComponents/canteen/Members.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ListTable from \"../shared/ListTable\";\nimport axios from \"../../store/axios\";\nimport { useHistory } from \"react-router-dom\";\nimport CanteenNav from \"./CanteenNav\";\nimport { errorAlert } from \"../../utils\";\n\nfunction Members() {\n  const [data, setdata] = useState([]);\n  const [loading, setloading] = useState(false);\n  const history = useHistory();\n\n  const tableHeader = [\n    { id: \"memberID\", name: \" Member ID\" },\n    { id: \"userID\", name: \"School ID\" },\n    { id: \"name\", name: \"Name\" },\n    { id: \"role\", name: \"Type\" },\n    { id: \"paymentMethod\", name: \"Payment Method\" },\n  ];\n\n  useEffect(() => {\n    axios.get(\"/canteen\").then((res) => {\n      setdata(res.data);\n    });\n  }, []);\n\n  const handleEdit = (id) => {\n    history.push(`/canteen/members/edit/${id}`);\n  };\n\n  const handleDelete = (id) => {\n    let ans = window.confirm(\"Are you sure you want to delete\");\n    if (ans) {\n      setloading(true);\n      axios\n        .delete(`/canteen/delete/${id}`)\n        .then(() => {\n          setloading(false);\n          setdata(data.filter((res) => res.memberID !== id));\n        })\n        .catch((err) => {\n          console.log(err);\n          errorAlert(\"something went wrong\");\n          setloading(false);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"mb-5\">\n        <CanteenNav />\n      </div>\n      <h3 className=\"mb-3\">Canteen Members</h3>\n      <ListTable\n        data={data}\n        isCanteen={true}\n        tableHeader={tableHeader}\n        handleEdit={handleEdit}\n        handleDelete={handleDelete}\n        loading={loading}\n      />\n    </div>\n  );\n}\n\nexport default Members;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}