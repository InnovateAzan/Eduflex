{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\AdminComponents\\\\academics\\\\classes\\\\AddClass.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport React from \"react\";\nimport ClassForm from \"./ClassForm\";\nimport axios from \"../../../store/axios\";\nimport { errorAlert, successAlert } from \"../../../utils\";\n//import GoBack from \"../../shared/GoBack\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectClasses, setClasses } from \"../../../store/slices/schoolSlice\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AddClass() {\n  _s();\n  const [name, setname] = useState(\"\");\n  const [campus, setcampus] = useState(\"\");\n  const [teacher, setteacher] = useState(\"\");\n  const [code, setcode] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const [academic, setacademic] = useState(\"\");\n  const dispatch = useDispatch();\n  const classes = useSelector(selectClasses);\n  const [division, setdivision] = useState(\"\");\n  const [group, setgroup] = useState(\"\");\n  const [prefect, setprefect] = useState(\"\");\n  const [sba, setsba] = useState(false);\n  const [sbaStaff, setsbaStaff] = useState(\"\");\n  const handleAddClass = () => {\n    setloading(true);\n    axios.post(\"/classes/create\", {\n      classCode: code,\n      name,\n      campusID: campus,\n      teacherID: teacher,\n      academic,\n      prefect,\n      division,\n      sba,\n      group,\n      sbaStaff\n    }).then(async res => {\n      var _data$doc;\n      let {\n        data\n      } = res;\n      setloading(false);\n      if (data !== null && data !== void 0 && data.error) {\n        errorAlert(data.error);\n        return 0;\n      }\n      successAlert(`${(_data$doc = data.doc) === null || _data$doc === void 0 ? void 0 : _data$doc.classCode} is successfully added`);\n      setloading(false);\n      dispatch(setClasses([data.doc, ...classes]));\n      await axios.post(\"/activitylog/create\", {\n        activity: ` ${name} class was created`,\n        user: \"admin\"\n      });\n      await axios.post(\"/fees/create\", {\n        name,\n        code: name.toLowerCase()\n      });\n      setcampus(\"\");\n      setcode(\"\");\n      setname(\"\");\n      setacademic(\"\");\n      setteacher(\"\");\n      setgroup(\"\");\n      setdivision(\"\");\n    }).catch(e => {\n      console.log(e);\n      errorAlert(\"something when wrong\");\n      setloading(false);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Add Class\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ClassForm, {\n        name: name,\n        setname: setname,\n        campus: campus,\n        setcampus: setcampus,\n        code: code,\n        academic: academic,\n        setacademic: setacademic,\n        loading: loading,\n        setcode: setcode,\n        teacher: teacher,\n        handleAddClass: handleAddClass,\n        setteacher: setteacher,\n        setdivision: setdivision,\n        division: division,\n        setgroup: setgroup,\n        group: group,\n        setprefect: setprefect,\n        prefects: prefect,\n        sba: sba,\n        setsba: setsba,\n        sbaStaff: sbaStaff,\n        setsbaStaff: setsbaStaff\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(AddClass, \"6TvybVHRw7cHxaLANBTA/fr2N9w=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = AddClass;\nexport default AddClass;\nvar _c;\n$RefreshReg$(_c, \"AddClass\");","map":{"version":3,"names":["useState","React","ClassForm","axios","errorAlert","successAlert","useDispatch","useSelector","selectClasses","setClasses","jsxDEV","_jsxDEV","Fragment","_Fragment","AddClass","_s","name","setname","campus","setcampus","teacher","setteacher","code","setcode","loading","setloading","academic","setacademic","dispatch","classes","division","setdivision","group","setgroup","prefect","setprefect","sba","setsba","sbaStaff","setsbaStaff","handleAddClass","post","classCode","campusID","teacherID","then","res","_data$doc","data","error","doc","activity","user","toLowerCase","catch","e","console","log","children","className","fileName","_jsxFileName","lineNumber","columnNumber","prefects","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/AdminComponents/academics/classes/AddClass.js"],"sourcesContent":["import { useState } from \"react\";\nimport React from \"react\";\nimport ClassForm from \"./ClassForm\";\nimport axios from \"../../../store/axios\";\nimport { errorAlert, successAlert } from \"../../../utils\";\n//import GoBack from \"../../shared/GoBack\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectClasses, setClasses } from \"../../../store/slices/schoolSlice\";\n\nfunction AddClass() {\n  const [name, setname] = useState(\"\");\n  const [campus, setcampus] = useState(\"\");\n  const [teacher, setteacher] = useState(\"\");\n  const [code, setcode] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const [academic, setacademic] = useState(\"\");\n  const dispatch = useDispatch();\n  const classes = useSelector(selectClasses);\n  const [division, setdivision] = useState(\"\");\n  const [group, setgroup] = useState(\"\");\n  const [prefect, setprefect] = useState(\"\");\n  const [sba, setsba] = useState(false);\n  const [sbaStaff, setsbaStaff] = useState(\"\");\n\n  const handleAddClass = () => {\n    setloading(true);\n    axios\n      .post(\"/classes/create\", {\n        classCode: code,\n        name,\n        campusID: campus,\n        teacherID: teacher,\n        academic,\n        prefect,\n        division,\n        sba,\n        group,\n        sbaStaff,\n      })\n      .then(async (res) => {\n        let { data } = res;\n        setloading(false);\n        if (data?.error) {\n          errorAlert(data.error);\n          return 0;\n        }\n        successAlert(`${data.doc?.classCode} is successfully added`);\n        setloading(false);\n        dispatch(setClasses([data.doc, ...classes]));\n        await axios.post(\"/activitylog/create\", {\n          activity: ` ${name} class was created`,\n          user: \"admin\",\n        });\n        await axios.post(\"/fees/create\", { name, code: name.toLowerCase() });\n        setcampus(\"\");\n        setcode(\"\");\n        setname(\"\");\n        setacademic(\"\");\n        setteacher(\"\");\n        setgroup(\"\");\n        setdivision(\"\");\n      })\n      .catch((e) => {\n        console.log(e);\n        errorAlert(\"something when wrong\");\n        setloading(false);\n      });\n  };\n\n  return (\n    <>\n      {/* <GoBack link=\"/academics/classes\" name=\"Back  to Classes List\" /> */}\n      <div className=\"content__container\">\n        <h3>Add Class</h3>\n        <ClassForm\n          name={name}\n          setname={setname}\n          campus={campus}\n          setcampus={setcampus}\n          code={code}\n          academic={academic}\n          setacademic={setacademic}\n          loading={loading}\n          setcode={setcode}\n          teacher={teacher}\n          handleAddClass={handleAddClass}\n          setteacher={setteacher}\n          setdivision={setdivision}\n          division={division}\n          setgroup={setgroup}\n          group={group}\n          setprefect={setprefect}\n          prefects={prefect}\n          sba={sba}\n          setsba={setsba}\n          sbaStaff={sbaStaff}\n          setsbaStaff={setsbaStaff}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default AddClass;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}