{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\AdminComponents\\\\academics\\\\courses\\\\AddCourses.js\",\n  _s = $RefreshSig$();\n/* eslint-disable array-callback-return */\nimport React, { useState } from \"react\";\nimport AddForm from \"./CourseForm\";\nimport GoBack from \"../../shared/GoBack\";\nimport axios from \"../../../store/axios\";\nimport { errorAlert, successAlert } from \"../../../utils\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setCourses, selectCourses } from \"../../../store/slices/schoolSlice\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AddCourses() {\n  _s();\n  const [name, setname] = useState(\"\");\n  const [code, setcode] = useState(\"\");\n  const [loading, setloading] = useState(\"\");\n  const [type, settype] = useState(\"\");\n  const [teacher, setteacher] = useState(\"\");\n  const [classesArr, setclassesArr] = useState([{\n    _id: \"\",\n    teacher: \"\",\n    class: \"\"\n  }]);\n  const [classID, setclassID] = useState(\"\");\n  const dispatch = useDispatch();\n  const courses = useSelector(selectCourses);\n  const handleSetclasses = e => {\n    setclassID(e);\n    let newClasses = classesArr.push(e);\n    setclassesArr(newClasses);\n  };\n  const handleUniqueVal = arr => {\n    let unique = [];\n    arr.map(i => {\n      let check = unique.find(e => e.class === i.class || e.teacher === i.teacher);\n      if (!check) {\n        unique.push(i);\n      }\n    });\n    return unique;\n  };\n  const handleAddCourse = () => {\n    setloading(true);\n    let classesData = classesArr.filter(e => e.class !== \"\" || e.teacher !== \"\");\n    let classes = handleUniqueVal(classesData);\n    axios.post(\"/courses/create\", {\n      name,\n      code,\n      type,\n      teacher,\n      classID,\n      classes\n    }).then(res => {\n      if (res.data.error) {\n        setloading(false);\n        errorAlert(res.data.error);\n        return 0;\n      }\n      dispatch(setCourses([res.data.doc, ...courses]));\n      setloading(false);\n      successAlert(\"successfull added\");\n      setname(\"\");\n      setcode(\"\");\n      setteacher(\"\");\n      settype(\"\");\n      setclassesArr([]);\n    }).catch(() => {\n      setloading(false);\n      errorAlert(\"sorry something when wrong\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GoBack, {\n      link: \"/academics/courses\",\n      name: \"Go back to Courses List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Add New Course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddForm, {\n        onSubmit: handleAddCourse,\n        name: name,\n        handleSetclasses: handleSetclasses,\n        setname: setname,\n        code: code,\n        teacher: teacher,\n        setteacher: setteacher,\n        type: type,\n        setclassesArr: setclassesArr,\n        classesArr: classesArr,\n        classID: classID,\n        settype: settype,\n        loadin: loading,\n        setcode: setcode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(AddCourses, \"ZNxU5yk2rfvgvBkG6cDs1ys6x3w=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = AddCourses;\nexport default AddCourses;\nvar _c;\n$RefreshReg$(_c, \"AddCourses\");","map":{"version":3,"names":["React","useState","AddForm","GoBack","axios","errorAlert","successAlert","useDispatch","useSelector","setCourses","selectCourses","jsxDEV","_jsxDEV","Fragment","_Fragment","AddCourses","_s","name","setname","code","setcode","loading","setloading","type","settype","teacher","setteacher","classesArr","setclassesArr","_id","class","classID","setclassID","dispatch","courses","handleSetclasses","e","newClasses","push","handleUniqueVal","arr","unique","map","i","check","find","handleAddCourse","classesData","filter","classes","post","then","res","data","error","doc","catch","children","link","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","loadin","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/AdminComponents/academics/courses/AddCourses.js"],"sourcesContent":["/* eslint-disable array-callback-return */\nimport React, { useState } from \"react\";\nimport AddForm from \"./CourseForm\";\nimport GoBack from \"../../shared/GoBack\";\nimport axios from \"../../../store/axios\";\nimport { errorAlert, successAlert } from \"../../../utils\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setCourses, selectCourses } from \"../../../store/slices/schoolSlice\";\n\nfunction AddCourses() {\n  const [name, setname] = useState(\"\");\n  const [code, setcode] = useState(\"\");\n  const [loading, setloading] = useState(\"\");\n  const [type, settype] = useState(\"\");\n  const [teacher, setteacher] = useState(\"\");\n  const [classesArr, setclassesArr] = useState([\n    { _id: \"\", teacher: \"\", class: \"\" },\n  ]);\n  const [classID, setclassID] = useState(\"\");\n  const dispatch = useDispatch();\n  const courses = useSelector(selectCourses);\n\n  const handleSetclasses = (e) => {\n    setclassID(e);\n    let newClasses = classesArr.push(e);\n    setclassesArr(newClasses);\n  };\n\n  const handleUniqueVal = (arr) => {\n    let unique = [];\n    arr.map((i) => {\n      let check = unique.find(\n        (e) => e.class === i.class || e.teacher === i.teacher\n      );\n      if (!check) {\n        unique.push(i);\n      }\n    });\n    return unique;\n  };\n\n  const handleAddCourse = () => {\n    setloading(true);\n    let classesData = classesArr.filter(\n      (e) => e.class !== \"\" || e.teacher !== \"\"\n    );\n    let classes = handleUniqueVal(classesData);\n    axios\n      .post(\"/courses/create\", {\n        name,\n        code,\n        type,\n        teacher,\n        classID,\n        classes,\n      })\n      .then((res) => {\n        if (res.data.error) {\n          setloading(false);\n          errorAlert(res.data.error);\n          return 0;\n        }\n        dispatch(setCourses([res.data.doc, ...courses]));\n        setloading(false);\n        successAlert(\"successfull added\");\n        setname(\"\");\n        setcode(\"\");\n        setteacher(\"\");\n        settype(\"\");\n        setclassesArr([]);\n      })\n      .catch(() => {\n        setloading(false);\n        errorAlert(\"sorry something when wrong\");\n      });\n  };\n\n  return (\n    <>\n      <GoBack link=\"/academics/courses\" name=\"Go back to Courses List\" />\n      <div className=\"content__container\">\n        <h3>Add New Course</h3>\n        <AddForm\n          onSubmit={handleAddCourse}\n          name={name}\n          handleSetclasses={handleSetclasses}\n          setname={setname}\n          code={code}\n          teacher={teacher}\n          setteacher={setteacher}\n          type={type}\n          setclassesArr={setclassesArr}\n          classesArr={classesArr}\n          classID={classID}\n          settype={settype}\n          loadin={loading}\n          setcode={setcode}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default AddCourses;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}