{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\TeachersComponents\\\\message\\\\MessageAdmin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport SendForm from \"../../components/messages/SendToForm\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../store/slices/userSlice\";\nimport axios from \"../../store/axios\";\nimport { errorAlert, successAlert } from \"../../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MessageAdmin() {\n  _s();\n  const [message, setmessage] = useState(\"\");\n  const [recipient, setrecipient] = useState(\"\");\n  const recipientOptions = [{\n    id: \"admin\",\n    name: \"admin\"\n  }];\n  const user = useSelector(selectUser);\n  const [loading, setloading] = useState(\"\");\n  const onSend = e => {\n    e.preventDefault();\n    if (message && recipient) {\n      setloading(true);\n      axios.post(`/chats/user`, {\n        message,\n        userID: recipient,\n        sender: user === null || user === void 0 ? void 0 : user.userID\n      }).then(res => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"message send\");\n        setmessage(\"\");\n      });\n    }\n  };\n  const searchOptions = () => {\n    return recipientOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: option.id,\n      children: [\" \", option.name, \" \"]\n    }, option.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(SendForm, {\n      message: message,\n      setmessage: setmessage,\n      onSend: onSend,\n      recipientsOptions: recipientOptions,\n      recipient: recipient,\n      sendto: \"School Admin\",\n      loading: loading,\n      searchOptions: searchOptions,\n      setrecipient: setrecipient,\n      sender: user === null || user === void 0 ? void 0 : user.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(MessageAdmin, \"xsjD4iBSs/Rlaez9tjSnojrbx3M=\", false, function () {\n  return [useSelector];\n});\n_c = MessageAdmin;\nexport default MessageAdmin;\nvar _c;\n$RefreshReg$(_c, \"MessageAdmin\");","map":{"version":3,"names":["React","useState","SendForm","useSelector","selectUser","axios","errorAlert","successAlert","jsxDEV","_jsxDEV","MessageAdmin","_s","message","setmessage","recipient","setrecipient","recipientOptions","id","name","user","loading","setloading","onSend","e","preventDefault","post","userID","sender","then","res","data","error","searchOptions","map","option","value","children","fileName","_jsxFileName","lineNumber","columnNumber","recipientsOptions","sendto","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/TeachersComponents/message/MessageAdmin.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport SendForm from \"../../components/messages/SendToForm\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../store/slices/userSlice\";\nimport axios from \"../../store/axios\";\nimport { errorAlert, successAlert } from \"../../utils\";\n\nfunction MessageAdmin() {\n  const [message, setmessage] = useState(\"\");\n  const [recipient, setrecipient] = useState(\"\");\n  const recipientOptions = [{ id: \"admin\", name: \"admin\" }];\n  const user = useSelector(selectUser);\n  const [loading, setloading] = useState(\"\");\n\n  const onSend = (e) => {\n    e.preventDefault();\n    if (message && recipient) {\n      setloading(true);\n      axios\n        .post(`/chats/user`, {\n          message,\n          userID: recipient,\n          sender: user?.userID,\n        })\n        .then((res) => {\n          setloading(false);\n          if (res.data.error) {\n            errorAlert(res.data.error);\n            return 0;\n          }\n          successAlert(\"message send\");\n          setmessage(\"\");\n        });\n    }\n  };\n\n  const searchOptions = () => {\n    return recipientOptions.map((option) => (\n      <option key={option.id} value={option.id}>\n        {\" \"}\n        {option.name}{\" \"}\n      </option>\n    ));\n  };\n\n  return (\n    <div>\n      <SendForm\n        message={message}\n        setmessage={setmessage}\n        onSend={onSend}\n        recipientsOptions={recipientOptions}\n        recipient={recipient}\n        sendto=\"School Admin\"\n        loading={loading}\n        searchOptions={searchOptions}\n        setrecipient={setrecipient}\n        sender={user?.id}\n      />\n    </div>\n  );\n}\n\nexport default MessageAdmin;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,QAAQ,MAAM,sCAAsC;AAC3D,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,UAAU,QAAQ,8BAA8B;AACzD,OAAOC,KAAK,MAAM,mBAAmB;AACrC,SAASC,UAAU,EAAEC,YAAY,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvD,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACtB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACa,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAMe,gBAAgB,GAAG,CAAC;IAAEC,EAAE,EAAE,OAAO;IAAEC,IAAI,EAAE;EAAQ,CAAC,CAAC;EACzD,MAAMC,IAAI,GAAGhB,WAAW,CAACC,UAAU,CAAC;EACpC,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMqB,MAAM,GAAIC,CAAC,IAAK;IACpBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAIZ,OAAO,IAAIE,SAAS,EAAE;MACxBO,UAAU,CAAC,IAAI,CAAC;MAChBhB,KAAK,CACFoB,IAAI,CAAC,aAAa,EAAE;QACnBb,OAAO;QACPc,MAAM,EAAEZ,SAAS;QACjBa,MAAM,EAAER,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO;MAChB,CAAC,CAAC,CACDE,IAAI,CAAEC,GAAG,IAAK;QACbR,UAAU,CAAC,KAAK,CAAC;QACjB,IAAIQ,GAAG,CAACC,IAAI,CAACC,KAAK,EAAE;UAClBzB,UAAU,CAACuB,GAAG,CAACC,IAAI,CAACC,KAAK,CAAC;UAC1B,OAAO,CAAC;QACV;QACAxB,YAAY,CAAC,cAAc,CAAC;QAC5BM,UAAU,CAAC,EAAE,CAAC;MAChB,CAAC,CAAC;IACN;EACF,CAAC;EAED,MAAMmB,aAAa,GAAGA,CAAA,KAAM;IAC1B,OAAOhB,gBAAgB,CAACiB,GAAG,CAAEC,MAAM,iBACjCzB,OAAA;MAAwB0B,KAAK,EAAED,MAAM,CAACjB,EAAG;MAAAmB,QAAA,GACtC,GAAG,EACHF,MAAM,CAAChB,IAAI,EAAE,GAAG;IAAA,GAFNgB,MAAM,CAACjB,EAAE;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAGd,CACT,CAAC;EACJ,CAAC;EAED,oBACE/B,OAAA;IAAA2B,QAAA,eACE3B,OAAA,CAACP,QAAQ;MACPU,OAAO,EAAEA,OAAQ;MACjBC,UAAU,EAAEA,UAAW;MACvBS,MAAM,EAAEA,MAAO;MACfmB,iBAAiB,EAAEzB,gBAAiB;MACpCF,SAAS,EAAEA,SAAU;MACrB4B,MAAM,EAAC,cAAc;MACrBtB,OAAO,EAAEA,OAAQ;MACjBY,aAAa,EAAEA,aAAc;MAC7BjB,YAAY,EAAEA,YAAa;MAC3BY,MAAM,EAAER,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEF;IAAG;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClB;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;AAAC7B,EAAA,CAtDQD,YAAY;EAAA,QAINP,WAAW;AAAA;AAAAwC,EAAA,GAJjBjC,YAAY;AAwDrB,eAAeA,YAAY;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}