{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\AdminComponents\\\\attendance\\\\StaffAttendance\\\\StaffAttendanceRegister.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Table from \"../../shared/RegisterAttendance\";\nimport axios from \"../../../store/axios\";\nimport { errorAlert } from \"../../../utils\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RegisterAttendance() {\n  _s();\n  const [loading, setloading] = useState(false);\n  const [staff, setstaff] = useState([]);\n  useEffect(() => {\n    axios.get(`/teachers`).then(res => {\n      let data = res.data.map(sta => {\n        return {\n          userID: sta.userID,\n          name: sta.name,\n          surname: sta.surname,\n          status: false\n        };\n      });\n      setstaff(data);\n    });\n  }, []);\n  const handleRegisterAttendance = () => {\n    setloading(true);\n    axios.post(\"/attendance/register\", {\n      users: staff,\n      classID: \"staff\",\n      role: \"staff\"\n    }).then(res => {\n      setloading(false);\n      console.log(res);\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n    }).catch(err => {\n      console.log(err);\n      setloading(false);\n      errorAlert(\"Sorry something when wrong\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"mb-3\",\n      children: \"Staff Attendance Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-end\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: moment().format(\"dddd D MMMM YYYY\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      attendanceData: staff,\n      isStaff: true,\n      handleRegister: handleRegisterAttendance,\n      loading: loading,\n      setattendanceData: setstaff\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(RegisterAttendance, \"bWpDBZQLAH78EDoDy244yMWusDA=\");\n_c = RegisterAttendance;\nexport default RegisterAttendance;\nvar _c;\n$RefreshReg$(_c, \"RegisterAttendance\");","map":{"version":3,"names":["React","useState","useEffect","Table","axios","errorAlert","moment","jsxDEV","_jsxDEV","RegisterAttendance","_s","loading","setloading","staff","setstaff","get","then","res","data","map","sta","userID","name","surname","status","handleRegisterAttendance","post","users","classID","role","console","log","error","catch","err","children","className","fileName","_jsxFileName","lineNumber","columnNumber","format","attendanceData","isStaff","handleRegister","setattendanceData","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/AdminComponents/attendance/StaffAttendance/StaffAttendanceRegister.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Table from \"../../shared/RegisterAttendance\";\nimport axios from \"../../../store/axios\";\nimport { errorAlert } from \"../../../utils\";\nimport moment from \"moment\";\n\nfunction RegisterAttendance() {\n  const [loading, setloading] = useState(false);\n  const [staff, setstaff] = useState([]);\n\n  useEffect(() => {\n    axios.get(`/teachers`).then((res) => {\n      let data = res.data.map((sta) => {\n        return {\n          userID: sta.userID,\n          name: sta.name,\n          surname: sta.surname,\n          status: false,\n        };\n      });\n      setstaff(data);\n    });\n  }, []);\n\n  const handleRegisterAttendance = () => {\n    setloading(true);\n    axios\n      .post(\"/attendance/register\", {\n        users: staff,\n        classID: \"staff\",\n        role: \"staff\",\n      })\n      .then((res) => {\n        setloading(false);\n        console.log(res);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setloading(false);\n        errorAlert(\"Sorry something when wrong\");\n      });\n  };\n\n  return (\n    <div>\n      <h3 className=\"mb-3\">Staff Attendance Register</h3>\n      <div className=\"d-flex justify-content-end\">\n        <div>\n          <strong>{moment().format(\"dddd D MMMM YYYY\")}</strong>\n        </div>\n      </div>\n      <Table\n        attendanceData={staff}\n        isStaff={true}\n        handleRegister={handleRegisterAttendance}\n        loading={loading}\n        setattendanceData={setstaff}\n      />\n    </div>\n  );\n}\n\nexport default RegisterAttendance;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}