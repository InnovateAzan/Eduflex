{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\AdminComponents\\\\academics\\\\correspondances\\\\Correspondances.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport CorrespondanceTable from \"./CorrespndanceTable\";\nimport Search from \"../../shared/Search\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"../../../store/axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { errorAlert } from \"../../../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst tableHeadings = [{\n  id: \"createdAt\",\n  name: \"Created At\"\n}, {\n  id: \"subject\",\n  name: \"Subject\"\n}, {\n  id: \"signature\",\n  name: \"Created By\"\n}];\nfunction Corresponses() {\n  _s();\n  const [name, setname] = useState(\"\");\n  const [correspondance, setcorrespondance] = useState([]);\n  const [storeData, setstoreData] = useState([]);\n  const [loading, setloading] = useState(false);\n  const history = useHistory();\n  useEffect(() => {\n    setloading(true);\n    axios.get(\"/correspondance\").then(res => {\n      setloading(false);\n      let data = res.data;\n      setcorrespondance(data);\n      setstoreData(data);\n    });\n  }, []);\n  const inputFields = [{\n    type: \"text\",\n    label: \"Search...\",\n    value: name,\n    name: \"name\",\n    onChange: setname\n  }];\n  const handleDeleteCorrespondance = id => {\n    const ans = window.confirm(\"are you sure you want to delete\");\n    if (ans) {\n      axios.delete(`/correspondance/delete/${id}`).then(res => {\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        setcorrespondance(correspondance.filter(course => course._id !== id));\n      });\n    }\n  };\n  const handleEditCorrespondance = id => {\n    history.push(`/academics/correspondance/edit/${id}`);\n  };\n  const handleViewCorrespondance = id => {\n    history.push(`/academics/correspondance/view/${id}`);\n  };\n  const handleReset = e => {\n    e.preventDefault();\n    setname(\"\");\n    setcorrespondance(storeData);\n  };\n  const handleSearch = e => {\n    e.preventDefault();\n    let newcorrespondance = [];\n    if (name) {\n      newcorrespondance = storeData.filter(i => (i === null || i === void 0 ? void 0 : i.name.toLowerCase().includes(name === null || name === void 0 ? void 0 : name.toLowerCase())) || (i === null || i === void 0 ? void 0 : i.subject.toLowerCase().includes(name === null || name === void 0 ? void 0 : name.toLowerCase())));\n    }\n    setcorrespondance(newcorrespondance);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(Search, {\n        title: \"Correspondances\",\n        loading: loading,\n        inputFields: inputFields,\n        handleSearch: handleSearch,\n        handleReset: handleReset\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-end mb-3\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/academics/correspondance/add\",\n        className: \"btn btn-outline-info btn__lg\",\n        children: \"Add New Correspondance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CorrespondanceTable, {\n      handleEdit: handleEditCorrespondance,\n      handleSearch: handleSearch,\n      handleDelete: handleDeleteCorrespondance,\n      data: correspondance,\n      handleViewCorrespondance: handleViewCorrespondance,\n      tableHeader: tableHeadings\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_s(Corresponses, \"j2d5zlccpC7dbUWW3eSUZ0paXsc=\", false, function () {\n  return [useHistory];\n});\n_c = Corresponses;\nexport default Corresponses;\nvar _c;\n$RefreshReg$(_c, \"Corresponses\");","map":{"version":3,"names":["React","useState","useEffect","CorrespondanceTable","Search","Link","axios","useHistory","errorAlert","jsxDEV","_jsxDEV","tableHeadings","id","name","Corresponses","_s","setname","correspondance","setcorrespondance","storeData","setstoreData","loading","setloading","history","get","then","res","data","inputFields","type","label","value","onChange","handleDeleteCorrespondance","ans","window","confirm","delete","error","filter","course","_id","handleEditCorrespondance","push","handleViewCorrespondance","handleReset","e","preventDefault","handleSearch","newcorrespondance","i","toLowerCase","includes","subject","children","className","title","fileName","_jsxFileName","lineNumber","columnNumber","to","handleEdit","handleDelete","tableHeader","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/AdminComponents/academics/correspondances/Correspondances.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport CorrespondanceTable from \"./CorrespndanceTable\";\nimport Search from \"../../shared/Search\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"../../../store/axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { errorAlert } from \"../../../utils\";\n\nconst tableHeadings = [\n  { id: \"createdAt\", name: \"Created At\" },\n  { id: \"subject\", name: \"Subject\" },\n  { id: \"signature\", name: \"Created By\" },\n];\n\nfunction Corresponses() {\n  const [name, setname] = useState(\"\");\n  const [correspondance, setcorrespondance] = useState([]);\n  const [storeData, setstoreData] = useState([]);\n  const [loading, setloading] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    setloading(true);\n    axios.get(\"/correspondance\").then((res) => {\n      setloading(false);\n      let data = res.data;\n      setcorrespondance(data);\n      setstoreData(data);\n    });\n  }, []);\n\n  const inputFields = [\n    {\n      type: \"text\",\n      label: \"Search...\",\n      value: name,\n      name: \"name\",\n      onChange: setname,\n    },\n  ];\n\n  const handleDeleteCorrespondance = (id) => {\n    const ans = window.confirm(\"are you sure you want to delete\");\n    if (ans) {\n      axios.delete(`/correspondance/delete/${id}`).then((res) => {\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        setcorrespondance(correspondance.filter((course) => course._id !== id));\n      });\n    }\n  };\n\n  const handleEditCorrespondance = (id) => {\n    history.push(`/academics/correspondance/edit/${id}`);\n  };\n\n  const handleViewCorrespondance = (id) => {\n    history.push(`/academics/correspondance/view/${id}`);\n  };\n\n  const handleReset = (e) => {\n    e.preventDefault();\n    setname(\"\");\n    setcorrespondance(storeData);\n  };\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    let newcorrespondance = [];\n    if (name) {\n      newcorrespondance = storeData.filter(\n        (i) =>\n          i?.name.toLowerCase().includes(name?.toLowerCase()) ||\n          i?.subject.toLowerCase().includes(name?.toLowerCase())\n      );\n    }\n    setcorrespondance(newcorrespondance);\n  };\n\n  return (\n    <div>\n      <div className=\"row\">\n        <Search\n          title=\"Correspondances\"\n          loading={loading}\n          inputFields={inputFields}\n          handleSearch={handleSearch}\n          handleReset={handleReset}\n        />\n      </div>\n      <div className=\"d-flex justify-content-end mb-3\">\n        <Link\n          to=\"/academics/correspondance/add\"\n          className=\"btn btn-outline-info btn__lg\"\n        >\n          Add New Correspondance\n        </Link>\n      </div>\n      <CorrespondanceTable\n        handleEdit={handleEditCorrespondance}\n        handleSearch={handleSearch}\n        handleDelete={handleDeleteCorrespondance}\n        data={correspondance}\n        handleViewCorrespondance={handleViewCorrespondance}\n        tableHeader={tableHeadings}\n      />\n    </div>\n  );\n}\n\nexport default Corresponses;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}