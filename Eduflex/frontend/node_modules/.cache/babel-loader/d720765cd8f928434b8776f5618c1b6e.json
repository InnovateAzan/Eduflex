{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\AdminComponents\\\\staff\\\\addStaff\\\\EditStaff.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport PersonalInfo from \"../../shared/Personalnfo\";\nimport EmplymentDetails from \"./EmploymentDetails\";\nimport ContactDetails from \"../../shared/Contact\";\nimport ProfilePicture from \"../../shared/ProfilePicture\";\nimport NextofKin from \"../../shared/NextofKin\";\nimport { useForm } from \"react-hook-form\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"../../../store/axios\";\nimport moment from \"moment\";\nimport { errorAlert, successAlert } from \"../../../utils\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectStaff, setStaff } from \"../../../store/slices/schoolSlice\";\nimport imageCompression from \"browser-image-compression\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction EditStaff() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [details, setdetails] = useState({});\n  const [name, setname] = useState(\"\");\n  const [lastname, setlastname] = useState(\"\");\n  const [secondName, setsecondName] = useState(\"\");\n  const [gender, setgender] = useState(\"\");\n  const [dateofBirth, setdateofBirth] = useState(\"\");\n  const [email, setemail] = useState(\"\");\n  const [nationality, setnationality] = useState(\"\");\n  const [placeofBirth, setplaceofBirth] = useState(\"\");\n  const [religion, setreligion] = useState(\"\");\n  const [title, settitle] = useState(\"\");\n  const [health, sethealth] = useState(\"\");\n  const [allege, setallege] = useState(\"\");\n  const [disease, setdisease] = useState(\"\");\n  const [loading, setloading] = useState(\"\");\n  const [profileUrl, setprofileUrl] = useState(\"\");\n  const [profileimg, setprofileimg] = useState(\"\");\n  const dispatch = useDispatch();\n  const staff = useSelector(selectStaff);\n  const options = {\n    maxSizeMB: 1\n  };\n\n  //form verification\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n\n  //EmplymentDetails\n  const [role, setRole] = useState(\"\");\n  const [department, setDepartment] = useState(\"\");\n  const [campus, setCampus] = useState(\"\");\n  const [employmentDate, setemploymentDate] = useState(null);\n  const [accountNumber, setaccountNumber] = useState(\"\");\n  const [bank, setbank] = useState(\"\");\n  const [qualification, setqualification] = useState(\"\");\n  const [years, setyears] = useState(\"\");\n  const [ssnit, setssnit] = useState(false);\n  const [taxNumber, settaxNumber] = useState(\"\");\n  const [salary, setsalary] = useState(\"\");\n  const [allowance, setallowance] = useState(\"\");\n\n  //contact details\n  const [mobilenumber, setmobilenumber] = useState(\"\");\n  const [residence, setresidence] = useState(\"\");\n  const [telephone, settelephone] = useState(\"\");\n  const [postalAddress, setpostalAddress] = useState(\"\");\n\n  //guidan\n\n  const [nexttelephone, setnexttelephone] = useState(\"\");\n  const [nextname, setnextname] = useState(\"\");\n  const [nextlastname, setnextlastname] = useState(\"\");\n  const [nextemail, setnextemail] = useState(\"\");\n  const [relationship, setrelationship] = useState(\"\");\n  const [occupation, setoccupation] = useState(\"\");\n  const [address, setaddress] = useState(\"\");\n  useEffect(() => {\n    axios.get(`/teachers/${id}`).then(res => {\n      var _data$nextofKin, _data$nextofKin2, _data$nextofKin3, _data$nextofKin4, _data$nextofKin5, _data$nextofKin6, _data$nextofKin7;\n      let data = res.data.teacher;\n      setdetails(data);\n      setname(data === null || data === void 0 ? void 0 : data.name);\n      setlastname(data === null || data === void 0 ? void 0 : data.surname);\n      setgender(data === null || data === void 0 ? void 0 : data.gender);\n      setsecondName(data === null || data === void 0 ? void 0 : data.middleName);\n      setdateofBirth(data !== null && data !== void 0 && data.dateofBirth ? moment(data === null || data === void 0 ? void 0 : data.dateOfBirth).format(\"YYYY-MM-D\") : \"\");\n      setprofileimg(data === null || data === void 0 ? void 0 : data.profileUrl);\n      setemail(data === null || data === void 0 ? void 0 : data.email);\n      setnationality(data === null || data === void 0 ? void 0 : data.nationality);\n      setplaceofBirth(data === null || data === void 0 ? void 0 : data.placeOfBirth);\n      setreligion(data === null || data === void 0 ? void 0 : data.religion);\n      settitle(data === null || data === void 0 ? void 0 : data.title);\n      sethealth(data === null || data === void 0 ? void 0 : data.health);\n      setallege(data === null || data === void 0 ? void 0 : data.allege);\n      setdisease(data === null || data === void 0 ? void 0 : data.disease);\n      setssnit(data === null || data === void 0 ? void 0 : data.ssnit);\n      settaxNumber(data === null || data === void 0 ? void 0 : data.taxNumber);\n      setsalary(data === null || data === void 0 ? void 0 : data.salary);\n      setallowance(data === null || data === void 0 ? void 0 : data.allowance);\n      setRole(data === null || data === void 0 ? void 0 : data.position);\n      setDepartment(data === null || data === void 0 ? void 0 : data.department);\n      setCampus(data === null || data === void 0 ? void 0 : data.campus);\n      setemploymentDate(data === null || data === void 0 ? void 0 : data.employmentDate);\n      setqualification(data === null || data === void 0 ? void 0 : data.qualification);\n      setyears(data === null || data === void 0 ? void 0 : data.years);\n      setbank(data === null || data === void 0 ? void 0 : data.bank);\n      setaccountNumber(data === null || data === void 0 ? void 0 : data.accountNumber);\n      setmobilenumber(data === null || data === void 0 ? void 0 : data.mobilenumber);\n      setresidence(data === null || data === void 0 ? void 0 : data.physicalAddress);\n      settelephone(data === null || data === void 0 ? void 0 : data.telephone);\n      setpostalAddress(data === null || data === void 0 ? void 0 : data.postalAddress);\n      setnexttelephone(data === null || data === void 0 ? void 0 : (_data$nextofKin = data.nextofKin) === null || _data$nextofKin === void 0 ? void 0 : _data$nextofKin.mobile);\n      setnextemail((_data$nextofKin2 = data.nextofKin) === null || _data$nextofKin2 === void 0 ? void 0 : _data$nextofKin2.email);\n      setnextlastname((_data$nextofKin3 = data.nextofKin) === null || _data$nextofKin3 === void 0 ? void 0 : _data$nextofKin3.lastname);\n      setnextname((_data$nextofKin4 = data.nextofKin) === null || _data$nextofKin4 === void 0 ? void 0 : _data$nextofKin4.name);\n      setaddress((_data$nextofKin5 = data.nextofKin) === null || _data$nextofKin5 === void 0 ? void 0 : _data$nextofKin5.address);\n      setoccupation((_data$nextofKin6 = data.nextofKin) === null || _data$nextofKin6 === void 0 ? void 0 : _data$nextofKin6.occupation);\n      setrelationship((_data$nextofKin7 = data.nextofKin) === null || _data$nextofKin7 === void 0 ? void 0 : _data$nextofKin7.relationship);\n    });\n  }, [id]);\n  const handleReset = data => {\n    var _data$nextofKin8, _data$nextofKin9, _data$nextofKin10, _data$nextofKin11, _data$nextofKin12, _data$nextofKin13, _data$nextofKin14;\n    setname(data === null || data === void 0 ? void 0 : data.name);\n    setlastname(data === null || data === void 0 ? void 0 : data.surname);\n    setgender(data === null || data === void 0 ? void 0 : data.gender);\n    setsecondName(data === null || data === void 0 ? void 0 : data.middleName);\n    setdateofBirth(data === null || data === void 0 ? void 0 : data.dateofBirth);\n    setemail(data === null || data === void 0 ? void 0 : data.email);\n    setnationality(data === null || data === void 0 ? void 0 : data.nationality);\n    setplaceofBirth(data === null || data === void 0 ? void 0 : data.placeofBirth);\n    setreligion(data === null || data === void 0 ? void 0 : data.religion);\n    settitle(data === null || data === void 0 ? void 0 : data.title);\n    setRole(data === null || data === void 0 ? void 0 : data.position);\n    setDepartment(data === null || data === void 0 ? void 0 : data.department);\n    setCampus(data === null || data === void 0 ? void 0 : data.campus);\n    setemploymentDate(data === null || data === void 0 ? void 0 : data.employmentDate);\n    setqualification(data === null || data === void 0 ? void 0 : data.qualification);\n    setyears(data === null || data === void 0 ? void 0 : data.years);\n    setaccountNumber(data === null || data === void 0 ? void 0 : data.accountNumber);\n    setbank(data === null || data === void 0 ? void 0 : data.bank);\n    setmobilenumber(data === null || data === void 0 ? void 0 : data.telephone);\n    setresidence(data === null || data === void 0 ? void 0 : data.physicalAddress);\n    settelephone(data === null || data === void 0 ? void 0 : data.mobile);\n    setpostalAddress(data === null || data === void 0 ? void 0 : data.postalAddress);\n    setnexttelephone(data === null || data === void 0 ? void 0 : (_data$nextofKin8 = data.nextofKin) === null || _data$nextofKin8 === void 0 ? void 0 : _data$nextofKin8.mobile);\n    setnextemail((_data$nextofKin9 = data.nextofKin) === null || _data$nextofKin9 === void 0 ? void 0 : _data$nextofKin9.email);\n    setnextlastname((_data$nextofKin10 = data.nextofKin) === null || _data$nextofKin10 === void 0 ? void 0 : _data$nextofKin10.name);\n    setnextname((_data$nextofKin11 = data.nextofKin) === null || _data$nextofKin11 === void 0 ? void 0 : _data$nextofKin11.name);\n    setaddress((_data$nextofKin12 = data.nextofKin) === null || _data$nextofKin12 === void 0 ? void 0 : _data$nextofKin12.address);\n    setoccupation((_data$nextofKin13 = data.nextofKin) === null || _data$nextofKin13 === void 0 ? void 0 : _data$nextofKin13.occupation);\n    setrelationship((_data$nextofKin14 = data.nextofKin) === null || _data$nextofKin14 === void 0 ? void 0 : _data$nextofKin14.relationship);\n  };\n  console.log(telephone);\n  const handleCreateSubmit = async () => {\n    setloading(true);\n    const fileData = new FormData();\n    let path = profileimg;\n    if (profileUrl) {\n      fileData.append(\"photo\", profileUrl);\n      const fileResponse = await axios.post(\"/upload\", {\n        dataUrl: profileimg\n      });\n      path = fileResponse.data.url;\n    }\n    axios.put(`/teachers/update/${id}`, {\n      profileUrl: path,\n      name,\n      middleName: secondName,\n      surname: lastname,\n      gender,\n      dateOfBirth: dateofBirth,\n      title,\n      email,\n      nationality,\n      religion,\n      placeOfBirth: placeofBirth,\n      health,\n      disease,\n      campusID: campus,\n      department,\n      allege,\n      allowance,\n      salary,\n      ssnit,\n      taxNumber,\n      bank,\n      accountNumber,\n      years,\n      employmentDate,\n      position: role,\n      mobilenumber,\n      telephone,\n      qualifications: qualification,\n      postalAddress,\n      physicalAddress: residence,\n      nextofKin: {\n        name: nextname,\n        relationship: relationship,\n        occupation: occupation,\n        email: nextemail,\n        mobile: nexttelephone,\n        address: address,\n        lastname: nextlastname\n      }\n    }).then(async res => {\n      setloading(false);\n      if (res.data.error) {\n        return errorAlert(res.data.error);\n      }\n      setdetails(res.data.teacher);\n      successAlert(\"changes successfully saved\");\n      dispatch(setStaff(staff.map(i => (i === null || i === void 0 ? void 0 : i.userID) === id ? res.data.doc : i)));\n      await axios.post(\"/activitylog/create\", {\n        activity: `staff member  ${name} ${lastname} was edited`,\n        user: \"admin\"\n      });\n    }).catch(err => {\n      console.log(err);\n      errorAlert(\"Something went wrong\");\n      setloading(false);\n    });\n  };\n  const handleChangeFile = async e => {\n    const selected = await imageCompression(e.target.files[0], options);\n    if ((selected === null || selected === void 0 ? void 0 : selected.size) > 2000000) {\n      errorAlert(\"image is too large\");\n    } else if (selected) {\n      setprofileUrl(selected);\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(selected);\n      fileReader.onloadend = () => {\n        setprofileimg(fileReader.result);\n      };\n    } else {\n      console.log(\"no file selected\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit Staff Member\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"\",\n        className: \"content__container\",\n        children: [/*#__PURE__*/_jsxDEV(ProfilePicture, {\n          profileUrl: profileUrl,\n          profileimg: profileimg,\n          setprofileUrl: handleChangeFile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PersonalInfo, {\n          register: register,\n          title: title,\n          setTitle: settitle,\n          isTeacher: true,\n          errors: errors,\n          setHealthCon: sethealth,\n          name: name,\n          setname: setname,\n          secondName: secondName,\n          setsecondName: setsecondName,\n          lastname: lastname,\n          setlastname: setlastname,\n          gender: gender,\n          setgender: setgender,\n          dateofBirth: dateofBirth,\n          setdateofBirth: setdateofBirth,\n          email: email,\n          setemail: setemail,\n          nationality: nationality,\n          setnationality: setnationality,\n          placeofBirth: placeofBirth,\n          setplaceofBirth: setplaceofBirth,\n          religion: religion,\n          setreligion: setreligion,\n          disease: disease,\n          setDisease: setdisease,\n          setallerge: setallege,\n          allerge: allege\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {\n          className: \"my-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EmplymentDetails, {\n          register: register,\n          errors: errors,\n          role: role,\n          bank: bank,\n          setbank: setbank,\n          accountNumber: accountNumber,\n          setaccountNumber: setaccountNumber,\n          ssnit: ssnit,\n          setssnit: setssnit,\n          salary: salary,\n          setsalary: setsalary,\n          allowance: allowance,\n          setallowance: setallowance,\n          taxNumber: taxNumber,\n          settaxNumber: settaxNumber,\n          setRole: setRole,\n          department: department,\n          setDepartment: setDepartment,\n          campus: campus,\n          setCampus: setCampus,\n          employmentDate: employmentDate,\n          setemploymentDate: setemploymentDate,\n          qualification: qualification,\n          setqualification: setqualification,\n          years: years,\n          setyears: setyears\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {\n          className: \"my-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ContactDetails, {\n          register: register,\n          errors: errors,\n          mobilenumber: mobilenumber,\n          setmobilenumber: setmobilenumber,\n          residence: residence,\n          setresidence: setresidence,\n          settelephone: settelephone,\n          telephone: telephone,\n          setpostalAddress: setpostalAddress,\n          postalAddress: postalAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {\n          className: \"my-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NextofKin, {\n          lastname: nextlastname,\n          setlastname: setnextlastname,\n          name: nextname,\n          setname: setnextname,\n          errors: errors,\n          register: register,\n          telephone: nexttelephone,\n          settelephone: setnexttelephone,\n          email: nextemail,\n          setemail: setnextemail,\n          setaddress: setaddress,\n          address: address,\n          occupation: occupation,\n          setoccupation: setoccupation,\n          relationship: relationship,\n          setrelationship: setrelationship\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {\n          className: \"my-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row \",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: handleSubmit(handleCreateSubmit),\n            className: \" col btn orange__btn mr-5\",\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"spinner-border spinner-border-sm\",\n                role: \"status\",\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"visually-hidden\",\n                children: \"Loading...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : \"Save Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              e.preventDefault();\n              handleReset(details);\n            },\n            className: \" col btn blue__btn\",\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this);\n}\n_s(EditStaff, \"FJOa87aO2qSeWuIbtjDovFbG1IA=\", false, function () {\n  return [useParams, useDispatch, useSelector, useForm];\n});\n_c = EditStaff;\nexport default EditStaff;\nvar _c;\n$RefreshReg$(_c, \"EditStaff\");","map":{"version":3,"names":["React","useState","useEffect","PersonalInfo","EmplymentDetails","ContactDetails","ProfilePicture","NextofKin","useForm","useParams","axios","moment","errorAlert","successAlert","useSelector","useDispatch","selectStaff","setStaff","imageCompression","jsxDEV","_jsxDEV","Fragment","_Fragment","EditStaff","_s","id","details","setdetails","name","setname","lastname","setlastname","secondName","setsecondName","gender","setgender","dateofBirth","setdateofBirth","email","setemail","nationality","setnationality","placeofBirth","setplaceofBirth","religion","setreligion","title","settitle","health","sethealth","allege","setallege","disease","setdisease","loading","setloading","profileUrl","setprofileUrl","profileimg","setprofileimg","dispatch","staff","options","maxSizeMB","register","handleSubmit","errors","role","setRole","department","setDepartment","campus","setCampus","employmentDate","setemploymentDate","accountNumber","setaccountNumber","bank","setbank","qualification","setqualification","years","setyears","ssnit","setssnit","taxNumber","settaxNumber","salary","setsalary","allowance","setallowance","mobilenumber","setmobilenumber","residence","setresidence","telephone","settelephone","postalAddress","setpostalAddress","nexttelephone","setnexttelephone","nextname","setnextname","nextlastname","setnextlastname","nextemail","setnextemail","relationship","setrelationship","occupation","setoccupation","address","setaddress","get","then","res","_data$nextofKin","_data$nextofKin2","_data$nextofKin3","_data$nextofKin4","_data$nextofKin5","_data$nextofKin6","_data$nextofKin7","data","teacher","surname","middleName","dateOfBirth","format","placeOfBirth","position","physicalAddress","nextofKin","mobile","handleReset","_data$nextofKin8","_data$nextofKin9","_data$nextofKin10","_data$nextofKin11","_data$nextofKin12","_data$nextofKin13","_data$nextofKin14","console","log","handleCreateSubmit","fileData","FormData","path","append","fileResponse","post","dataUrl","url","put","campusID","qualifications","error","map","i","userID","doc","activity","user","catch","err","handleChangeFile","e","selected","target","files","size","fileReader","FileReader","readAsDataURL","onloadend","result","children","fileName","_jsxFileName","lineNumber","columnNumber","action","className","setTitle","isTeacher","setHealthCon","setDisease","setallerge","allerge","type","onClick","preventDefault","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/AdminComponents/staff/addStaff/EditStaff.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PersonalInfo from \"../../shared/Personalnfo\";\nimport EmplymentDetails from \"./EmploymentDetails\";\nimport ContactDetails from \"../../shared/Contact\";\nimport ProfilePicture from \"../../shared/ProfilePicture\";\nimport NextofKin from \"../../shared/NextofKin\";\nimport { useForm } from \"react-hook-form\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"../../../store/axios\";\nimport moment from \"moment\";\nimport { errorAlert, successAlert } from \"../../../utils\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectStaff, setStaff } from \"../../../store/slices/schoolSlice\";\nimport imageCompression from \"browser-image-compression\";\n\nfunction EditStaff() {\n  const { id } = useParams();\n  const [details, setdetails] = useState({});\n  const [name, setname] = useState(\"\");\n  const [lastname, setlastname] = useState(\"\");\n  const [secondName, setsecondName] = useState(\"\");\n  const [gender, setgender] = useState(\"\");\n  const [dateofBirth, setdateofBirth] = useState(\"\");\n  const [email, setemail] = useState(\"\");\n  const [nationality, setnationality] = useState(\"\");\n  const [placeofBirth, setplaceofBirth] = useState(\"\");\n  const [religion, setreligion] = useState(\"\");\n  const [title, settitle] = useState(\"\");\n  const [health, sethealth] = useState(\"\");\n  const [allege, setallege] = useState(\"\");\n  const [disease, setdisease] = useState(\"\");\n  const [loading, setloading] = useState(\"\");\n\n  const [profileUrl, setprofileUrl] = useState(\"\");\n  const [profileimg, setprofileimg] = useState(\"\");\n\n  const dispatch = useDispatch();\n  const staff = useSelector(selectStaff);\n\n  const options = {\n    maxSizeMB: 1,\n  };\n\n  //form verification\n  const { register, handleSubmit, errors } = useForm();\n\n  //EmplymentDetails\n  const [role, setRole] = useState(\"\");\n  const [department, setDepartment] = useState(\"\");\n  const [campus, setCampus] = useState(\"\");\n  const [employmentDate, setemploymentDate] = useState(null);\n  const [accountNumber, setaccountNumber] = useState(\"\");\n  const [bank, setbank] = useState(\"\");\n  const [qualification, setqualification] = useState(\"\");\n  const [years, setyears] = useState(\"\");\n  const [ssnit, setssnit] = useState(false);\n  const [taxNumber, settaxNumber] = useState(\"\");\n  const [salary, setsalary] = useState(\"\");\n  const [allowance, setallowance] = useState(\"\");\n\n  //contact details\n  const [mobilenumber, setmobilenumber] = useState(\"\");\n  const [residence, setresidence] = useState(\"\");\n  const [telephone, settelephone] = useState(\"\");\n  const [postalAddress, setpostalAddress] = useState(\"\");\n\n  //guidan\n\n  const [nexttelephone, setnexttelephone] = useState(\"\");\n  const [nextname, setnextname] = useState(\"\");\n  const [nextlastname, setnextlastname] = useState(\"\");\n  const [nextemail, setnextemail] = useState(\"\");\n  const [relationship, setrelationship] = useState(\"\");\n  const [occupation, setoccupation] = useState(\"\");\n  const [address, setaddress] = useState(\"\");\n\n  useEffect(() => {\n    axios.get(`/teachers/${id}`).then((res) => {\n      let data = res.data.teacher;\n      setdetails(data);\n      setname(data?.name);\n      setlastname(data?.surname);\n      setgender(data?.gender);\n      setsecondName(data?.middleName);\n      setdateofBirth(\n        data?.dateofBirth ? moment(data?.dateOfBirth).format(\"YYYY-MM-D\") : \"\"\n      );\n      setprofileimg(data?.profileUrl);\n      setemail(data?.email);\n      setnationality(data?.nationality);\n      setplaceofBirth(data?.placeOfBirth);\n      setreligion(data?.religion);\n      settitle(data?.title);\n      sethealth(data?.health);\n      setallege(data?.allege);\n      setdisease(data?.disease);\n      setssnit(data?.ssnit);\n      settaxNumber(data?.taxNumber);\n      setsalary(data?.salary);\n      setallowance(data?.allowance);\n      setRole(data?.position);\n      setDepartment(data?.department);\n      setCampus(data?.campus);\n      setemploymentDate(data?.employmentDate);\n      setqualification(data?.qualification);\n      setyears(data?.years);\n      setbank(data?.bank);\n      setaccountNumber(data?.accountNumber);\n      setmobilenumber(data?.mobilenumber);\n      setresidence(data?.physicalAddress);\n      settelephone(data?.telephone);\n      setpostalAddress(data?.postalAddress);\n      setnexttelephone(data?.nextofKin?.mobile);\n      setnextemail(data.nextofKin?.email);\n      setnextlastname(data.nextofKin?.lastname);\n      setnextname(data.nextofKin?.name);\n      setaddress(data.nextofKin?.address);\n      setoccupation(data.nextofKin?.occupation);\n      setrelationship(data.nextofKin?.relationship);\n    });\n  }, [id]);\n\n  const handleReset = (data) => {\n    setname(data?.name);\n    setlastname(data?.surname);\n    setgender(data?.gender);\n    setsecondName(data?.middleName);\n    setdateofBirth(data?.dateofBirth);\n    setemail(data?.email);\n    setnationality(data?.nationality);\n    setplaceofBirth(data?.placeofBirth);\n    setreligion(data?.religion);\n    settitle(data?.title);\n    setRole(data?.position);\n    setDepartment(data?.department);\n    setCampus(data?.campus);\n    setemploymentDate(data?.employmentDate);\n    setqualification(data?.qualification);\n    setyears(data?.years);\n    setaccountNumber(data?.accountNumber);\n    setbank(data?.bank);\n    setmobilenumber(data?.telephone);\n    setresidence(data?.physicalAddress);\n    settelephone(data?.mobile);\n    setpostalAddress(data?.postalAddress);\n    setnexttelephone(data?.nextofKin?.mobile);\n    setnextemail(data.nextofKin?.email);\n    setnextlastname(data.nextofKin?.name);\n    setnextname(data.nextofKin?.name);\n    setaddress(data.nextofKin?.address);\n    setoccupation(data.nextofKin?.occupation);\n    setrelationship(data.nextofKin?.relationship);\n  };\n\n  console.log(telephone);\n\n  const handleCreateSubmit = async () => {\n    setloading(true);\n    const fileData = new FormData();\n    let path = profileimg;\n    if (profileUrl) {\n      fileData.append(\"photo\", profileUrl);\n      const fileResponse = await axios.post(\"/upload\", { dataUrl: profileimg });\n      path = fileResponse.data.url;\n    }\n    axios\n      .put(`/teachers/update/${id}`, {\n        profileUrl: path,\n        name,\n        middleName: secondName,\n        surname: lastname,\n        gender,\n        dateOfBirth: dateofBirth,\n        title,\n        email,\n        nationality,\n        religion,\n        placeOfBirth: placeofBirth,\n        health,\n        disease,\n        campusID: campus,\n        department,\n        allege,\n        allowance,\n        salary,\n        ssnit,\n        taxNumber,\n        bank,\n        accountNumber,\n        years,\n        employmentDate,\n        position: role,\n        mobilenumber,\n        telephone,\n        qualifications: qualification,\n        postalAddress,\n        physicalAddress: residence,\n        nextofKin: {\n          name: nextname,\n          relationship: relationship,\n          occupation: occupation,\n          email: nextemail,\n          mobile: nexttelephone,\n          address: address,\n          lastname: nextlastname,\n        },\n      })\n      .then(async (res) => {\n        setloading(false);\n        if (res.data.error) {\n          return errorAlert(res.data.error);\n        }\n        setdetails(res.data.teacher);\n        successAlert(\"changes successfully saved\");\n        dispatch(\n          setStaff(staff.map((i) => (i?.userID === id ? res.data.doc : i)))\n        );\n        await axios.post(\"/activitylog/create\", {\n          activity: `staff member  ${name} ${lastname} was edited`,\n          user: \"admin\",\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n        errorAlert(\"Something went wrong\");\n        setloading(false);\n      });\n  };\n\n  const handleChangeFile = async (e) => {\n    const selected = await imageCompression(e.target.files[0], options);\n    if (selected?.size > 2000000) {\n      errorAlert(\"image is too large\");\n    } else if (selected) {\n      setprofileUrl(selected);\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(selected);\n      fileReader.onloadend = () => {\n        setprofileimg(fileReader.result);\n      };\n    } else {\n      console.log(\"no file selected\");\n    }\n  };\n\n  return (\n    <div>\n      <h2>Edit Staff Member</h2>\n      <div>\n        <form action=\"\" className=\"content__container\">\n          <ProfilePicture\n            profileUrl={profileUrl}\n            profileimg={profileimg}\n            setprofileUrl={handleChangeFile}\n          />\n          <PersonalInfo\n            register={register}\n            title={title}\n            setTitle={settitle}\n            isTeacher={true}\n            errors={errors}\n            setHealthCon={sethealth}\n            name={name}\n            setname={setname}\n            secondName={secondName}\n            setsecondName={setsecondName}\n            lastname={lastname}\n            setlastname={setlastname}\n            gender={gender}\n            setgender={setgender}\n            dateofBirth={dateofBirth}\n            setdateofBirth={setdateofBirth}\n            email={email}\n            setemail={setemail}\n            nationality={nationality}\n            setnationality={setnationality}\n            placeofBirth={placeofBirth}\n            setplaceofBirth={setplaceofBirth}\n            religion={religion}\n            setreligion={setreligion}\n            disease={disease}\n            setDisease={setdisease}\n            setallerge={setallege}\n            allerge={allege}\n          />\n          <br className=\"my-4\" />\n          <EmplymentDetails\n            register={register}\n            errors={errors}\n            role={role}\n            bank={bank}\n            setbank={setbank}\n            accountNumber={accountNumber}\n            setaccountNumber={setaccountNumber}\n            ssnit={ssnit}\n            setssnit={setssnit}\n            salary={salary}\n            setsalary={setsalary}\n            allowance={allowance}\n            setallowance={setallowance}\n            taxNumber={taxNumber}\n            settaxNumber={settaxNumber}\n            setRole={setRole}\n            department={department}\n            setDepartment={setDepartment}\n            campus={campus}\n            setCampus={setCampus}\n            employmentDate={employmentDate}\n            setemploymentDate={setemploymentDate}\n            qualification={qualification}\n            setqualification={setqualification}\n            years={years}\n            setyears={setyears}\n          />\n          <br className=\"my-4\" />\n          <ContactDetails\n            register={register}\n            errors={errors}\n            mobilenumber={mobilenumber}\n            setmobilenumber={setmobilenumber}\n            residence={residence}\n            setresidence={setresidence}\n            settelephone={settelephone}\n            telephone={telephone}\n            setpostalAddress={setpostalAddress}\n            postalAddress={postalAddress}\n          />\n          <br className=\"my-4\" />\n          <NextofKin\n            lastname={nextlastname}\n            setlastname={setnextlastname}\n            name={nextname}\n            setname={setnextname}\n            errors={errors}\n            register={register}\n            telephone={nexttelephone}\n            settelephone={setnexttelephone}\n            email={nextemail}\n            setemail={setnextemail}\n            setaddress={setaddress}\n            address={address}\n            occupation={occupation}\n            setoccupation={setoccupation}\n            relationship={relationship}\n            setrelationship={setrelationship}\n          />\n          <br className=\"my-4\" />\n\n          <div className=\"row \">\n            <button\n              type=\"submit\"\n              onClick={handleSubmit(handleCreateSubmit)}\n              className=\" col btn orange__btn mr-5\"\n            >\n              {loading ? (\n                <>\n                  <span\n                    className=\"spinner-border spinner-border-sm\"\n                    role=\"status\"\n                    aria-hidden=\"true\"\n                  ></span>\n                  <span className=\"visually-hidden\">Loading...</span>\n                </>\n              ) : (\n                \"Save Changes\"\n              )}\n            </button>\n            <button\n              onClick={(e) => {\n                e.preventDefault();\n                handleReset(details);\n              }}\n              className=\" col btn blue__btn\"\n            >\n              Reset\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default EditStaff;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}