{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\AdminComponents\\\\academics\\\\courses\\\\Courses.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport CourseTable from \"../../shared/ListTable\";\nimport Search from \"../../shared/Search\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport axios from \"../../../store/axios\";\nimport { errorAlert } from \"../../../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst tableHeadings = [{\n  id: \"code\",\n  name: \"ID\"\n}, {\n  id: \"name\",\n  name: \"Course\"\n}, {\n  id: \"type\",\n  name: \"Course Type\"\n}, {\n  id: \"teacher\",\n  name: \"Teacher\"\n}];\nfunction Courses() {\n  _s();\n  const [name, setname] = useState(\"\");\n  const [depart, setdepart] = useState(\"\");\n  const [storeData, setstoreData] = useState([]);\n  const [teacher, setteacher] = useState(\"\");\n  const [courses, setcourses] = useState([]);\n  const history = useHistory();\n  const [loading, setloading] = useState(false);\n  useEffect(() => {\n    setloading(true);\n    axios.get(\"/courses\").then(res => {\n      setstoreData(res.data);\n      setcourses(res.data);\n      setloading(false);\n    });\n  }, []);\n  const inputFields = [{\n    type: \"text\",\n    label: \"Search Name\",\n    value: name,\n    name: \"name\",\n    onChange: setname\n  }, {\n    type: \"text\",\n    label: \"Search Type\",\n    value: depart,\n    name: \"type\",\n    onChange: setdepart\n  }, {\n    type: \"text\",\n    label: \"Search Teacher\",\n    value: teacher,\n    name: \"teacher\",\n    onChange: setteacher\n  }];\n  const handleDelete = id => {\n    const ans = window.confirm(\"are you sure you want to delete\");\n    if (ans) {\n      axios.delete(`/courses/delete/${id}`).then(res => {\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        setcourses(courses.filter(course => course._id !== id));\n      });\n    }\n  };\n  const handleEdit = id => {\n    history.push(`/academics/courses/edit/${id}`);\n  };\n  const handleSearch = e => {\n    e.preventDefault();\n    let newClasses = [];\n    if (name) {\n      newClasses = storeData.filter(i => (i === null || i === void 0 ? void 0 : i.name.toLowerCase().includes(name === null || name === void 0 ? void 0 : name.toLowerCase())) || (i === null || i === void 0 ? void 0 : i.code.toLowerCase().includes(name === null || name === void 0 ? void 0 : name.toLowerCase())));\n    }\n    if (depart) {\n      newClasses = newClasses.filter(i => i === null || i === void 0 ? void 0 : i.type.toLowerCase().includes(depart === null || depart === void 0 ? void 0 : depart.toLowerCase()));\n    }\n    if (teacher) {\n      newClasses = newClasses.filter(i => i === null || i === void 0 ? void 0 : i.teacher.toLowerCase().includes(teacher === null || teacher === void 0 ? void 0 : teacher.toLowerCase()));\n    }\n    setcourses(newClasses);\n  };\n  const handleReset = e => {\n    e.preventDefault();\n    setname(\"\");\n    setdepart(\"\");\n    setteacher(\"\");\n    setcourses(storeData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Search, {\n      title: \"Courses List\",\n      handleSearch: handleSearch,\n      handleReset: handleReset,\n      inputFields: inputFields\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Courses List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/academics/courses/add`,\n          className: \"btn orange__btn btn__lg\",\n          children: \"Add New Course\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CourseTable, {\n        handleEdit: handleEdit,\n        handleDelete: handleDelete,\n        data: courses,\n        loading: loading,\n        handleSearch: handleSearch,\n        tableHeader: tableHeadings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n_s(Courses, \"JdxoqltpthuBsVCOYCgTmuVtSJk=\", false, function () {\n  return [useHistory];\n});\n_c = Courses;\nexport default Courses;\nvar _c;\n$RefreshReg$(_c, \"Courses\");","map":{"version":3,"names":["React","useState","useEffect","CourseTable","Search","Link","useHistory","axios","errorAlert","jsxDEV","_jsxDEV","tableHeadings","id","name","Courses","_s","setname","depart","setdepart","storeData","setstoreData","teacher","setteacher","courses","setcourses","history","loading","setloading","get","then","res","data","inputFields","type","label","value","onChange","handleDelete","ans","window","confirm","delete","error","filter","course","_id","handleEdit","push","handleSearch","e","preventDefault","newClasses","i","toLowerCase","includes","code","handleReset","children","title","fileName","_jsxFileName","lineNumber","columnNumber","className","to","tableHeader","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/AdminComponents/academics/courses/Courses.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport CourseTable from \"../../shared/ListTable\";\nimport Search from \"../../shared/Search\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport axios from \"../../../store/axios\";\nimport { errorAlert } from \"../../../utils\";\n\nconst tableHeadings = [\n  { id: \"code\", name: \"ID\" },\n  { id: \"name\", name: \"Course\" },\n  { id: \"type\", name: \"Course Type\" },\n  { id: \"teacher\", name: \"Teacher\" },\n];\n\nfunction Courses() {\n  const [name, setname] = useState(\"\");\n  const [depart, setdepart] = useState(\"\");\n  const [storeData, setstoreData] = useState([]);\n  const [teacher, setteacher] = useState(\"\");\n  const [courses, setcourses] = useState([]);\n  const history = useHistory();\n  const [loading, setloading] = useState(false);\n\n  useEffect(() => {\n    setloading(true);\n    axios.get(\"/courses\").then((res) => {\n      setstoreData(res.data);\n      setcourses(res.data);\n      setloading(false);\n    });\n  }, []);\n\n  const inputFields = [\n    {\n      type: \"text\",\n      label: \"Search Name\",\n      value: name,\n      name: \"name\",\n      onChange: setname,\n    },\n    {\n      type: \"text\",\n      label: \"Search Type\",\n      value: depart,\n      name: \"type\",\n      onChange: setdepart,\n    },\n    {\n      type: \"text\",\n      label: \"Search Teacher\",\n      value: teacher,\n      name: \"teacher\",\n      onChange: setteacher,\n    },\n  ];\n\n  const handleDelete = (id) => {\n    const ans = window.confirm(\"are you sure you want to delete\");\n    if (ans) {\n      axios.delete(`/courses/delete/${id}`).then((res) => {\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        setcourses(courses.filter((course) => course._id !== id));\n      });\n    }\n  };\n  const handleEdit = (id) => {\n    history.push(`/academics/courses/edit/${id}`);\n  };\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    let newClasses = [];\n    if (name) {\n      newClasses = storeData.filter(\n        (i) =>\n          i?.name.toLowerCase().includes(name?.toLowerCase()) ||\n          i?.code.toLowerCase().includes(name?.toLowerCase())\n      );\n    }\n    if (depart) {\n      newClasses = newClasses.filter((i) =>\n        i?.type.toLowerCase().includes(depart?.toLowerCase())\n      );\n    }\n    if (teacher) {\n      newClasses = newClasses.filter((i) =>\n        i?.teacher.toLowerCase().includes(teacher?.toLowerCase())\n      );\n    }\n    setcourses(newClasses);\n  };\n\n  const handleReset = (e) => {\n    e.preventDefault();\n    setname(\"\");\n    setdepart(\"\");\n    setteacher(\"\");\n    setcourses(storeData);\n  };\n\n  return (\n    <div>\n      <Search\n        title=\"Courses List\"\n        handleSearch={handleSearch}\n        handleReset={handleReset}\n        inputFields={inputFields}\n      />\n      <div className=\"content__container\">\n        <div className=\"d-flex justify-content-between mb-2\">\n          <h3>Courses List</h3>\n          <Link\n            to={`/academics/courses/add`}\n            className=\"btn orange__btn btn__lg\"\n          >\n            Add New Course\n          </Link>\n        </div>\n        <CourseTable\n          handleEdit={handleEdit}\n          handleDelete={handleDelete}\n          data={courses}\n          loading={loading}\n          handleSearch={handleSearch}\n          tableHeader={tableHeadings}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Courses;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}