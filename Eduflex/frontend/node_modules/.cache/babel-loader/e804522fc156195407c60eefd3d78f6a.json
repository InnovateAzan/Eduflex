{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\AdminComponents\\\\academics\\\\calender\\\\EditCalenderEvent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { errorAlert, successAlert } from \"../../../utils\";\nimport GoBack from \"../../shared/GoBack\";\nimport { combineDateAndTime, separateDateandTime } from \"../../../utils\";\nimport EditForm from \"./CalendarForm\";\nimport axios from \"../../../store/axios\";\nimport { useParams } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction EditEvent() {\n  _s();\n  const [title, settitle] = useState(\"\");\n  const [description, setdescription] = useState(\"\");\n  const [startday, setstartday] = useState(\"2021/2/2\");\n  const [starttime, setstarttime] = useState(\"00:00:00\");\n  const [allday, setallday] = useState(true);\n  const [endtime, setendtime] = useState(\"00:00:00\");\n  const [loading, setloading] = useState(false);\n  const [type, settype] = useState(\"\");\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    axios.get(`/calendar/${id}`).then(res => {\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n      const {\n        docs\n      } = res.data;\n      settitle(docs.title);\n      setdescription(docs.description);\n      setallday(docs.allDay);\n      const {\n        day,\n        time\n      } = separateDateandTime(docs.start);\n      console.log(day);\n      setstartday(moment(day).format(\"YYYY-MM-DD\"));\n      setstarttime(time);\n      const enddate = separateDateandTime(docs.end);\n      setendtime(enddate === null || enddate === void 0 ? void 0 : enddate.time);\n    });\n  }, [id]);\n  console.log(typeof startday);\n  const handleEditEvent = () => {\n    const start = combineDateAndTime(startday, starttime);\n    const end = combineDateAndTime(startday, endtime);\n    axios.put(`/calendar/update/${id}`, {\n      title,\n      resource: type,\n      allDay: allday,\n      day: startday,\n      start,\n      end,\n      type,\n      description\n    }).then(res => {\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        setloading(false);\n        return 0;\n      }\n      successAlert(\"successfully updated\");\n      setloading(false);\n    }).catch(err => {\n      errorAlert(\"sorry something when wrong\");\n      setloading(false);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GoBack, {\n      name: \"Go back to Events List\",\n      link: \"/academics/calender\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Edit Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditForm, {\n        title: title,\n        settitle: settitle,\n        setdescription: setdescription,\n        description: description,\n        starttime: starttime,\n        setstarttime: setstarttime,\n        startdate: startday,\n        setstartdate: setstartday,\n        allday: allday,\n        setallday: setallday,\n        endtime: endtime,\n        isEdit: true,\n        onSubmit: handleEditEvent,\n        loading: loading,\n        setendtime: setendtime,\n        type: type,\n        settype: settype\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(EditEvent, \"8MXcOfZCySFfcXZVV+ysamqQE1M=\", false, function () {\n  return [useParams];\n});\n_c = EditEvent;\nexport default EditEvent;\nvar _c;\n$RefreshReg$(_c, \"EditEvent\");","map":{"version":3,"names":["React","useState","useEffect","errorAlert","successAlert","GoBack","combineDateAndTime","separateDateandTime","EditForm","axios","useParams","moment","jsxDEV","_jsxDEV","Fragment","_Fragment","EditEvent","_s","title","settitle","description","setdescription","startday","setstartday","starttime","setstarttime","allday","setallday","endtime","setendtime","loading","setloading","type","settype","id","get","then","res","data","error","docs","allDay","day","time","start","console","log","format","enddate","end","handleEditEvent","put","resource","catch","err","children","name","link","fileName","_jsxFileName","lineNumber","columnNumber","className","startdate","setstartdate","isEdit","onSubmit","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/AdminComponents/academics/calender/EditCalenderEvent.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { errorAlert, successAlert } from \"../../../utils\";\nimport GoBack from \"../../shared/GoBack\";\nimport { combineDateAndTime, separateDateandTime } from \"../../../utils\";\nimport EditForm from \"./CalendarForm\";\nimport axios from \"../../../store/axios\";\nimport { useParams } from \"react-router-dom\";\nimport moment from \"moment\";\n\nfunction EditEvent() {\n  const [title, settitle] = useState(\"\");\n  const [description, setdescription] = useState(\"\");\n  const [startday, setstartday] = useState(\"2021/2/2\");\n  const [starttime, setstarttime] = useState(\"00:00:00\");\n  const [allday, setallday] = useState(true);\n  const [endtime, setendtime] = useState(\"00:00:00\");\n  const [loading, setloading] = useState(false);\n  const [type, settype] = useState(\"\");\n  const { id } = useParams();\n\n  useEffect(() => {\n    axios.get(`/calendar/${id}`).then((res) => {\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n      const { docs } = res.data;\n\n      settitle(docs.title);\n      setdescription(docs.description);\n      setallday(docs.allDay);\n      const { day, time } = separateDateandTime(docs.start);\n      console.log(day);\n      setstartday(moment(day).format(\"YYYY-MM-DD\"));\n      setstarttime(time);\n      const enddate = separateDateandTime(docs.end);\n      setendtime(enddate?.time);\n    });\n  }, [id]);\n\n  console.log(typeof startday);\n\n  const handleEditEvent = () => {\n    const start = combineDateAndTime(startday, starttime);\n    const end = combineDateAndTime(startday, endtime);\n    axios\n      .put(`/calendar/update/${id}`, {\n        title,\n        resource: type,\n        allDay: allday,\n        day: startday,\n        start,\n        end,\n        type,\n        description,\n      })\n      .then((res) => {\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          setloading(false);\n          return 0;\n        }\n        successAlert(\"successfully updated\");\n        setloading(false);\n      })\n      .catch((err) => {\n        errorAlert(\"sorry something when wrong\");\n        setloading(false);\n      });\n  };\n\n  return (\n    <>\n      <GoBack name=\"Go back to Events List\" link=\"/academics/calender\" />\n      <div className=\"content__container\">\n        <h3>Edit Event</h3>\n        <EditForm\n          title={title}\n          settitle={settitle}\n          setdescription={setdescription}\n          description={description}\n          starttime={starttime}\n          setstarttime={setstarttime}\n          startdate={startday}\n          setstartdate={setstartday}\n          allday={allday}\n          setallday={setallday}\n          endtime={endtime}\n          isEdit={true}\n          onSubmit={handleEditEvent}\n          loading={loading}\n          setendtime={setendtime}\n          type={type}\n          settype={settype}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default EditEvent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}