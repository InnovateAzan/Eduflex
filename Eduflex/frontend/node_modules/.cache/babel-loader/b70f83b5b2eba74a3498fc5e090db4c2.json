{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\AdminComponents\\\\attendance\\\\StudentAttendance\\\\EditAttendance.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Table from '../../shared/RegisterAttendance';\nimport axios from '../../../store/axios';\nimport { errorAlert } from '../../../utils';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RegisterAttendance() {\n  _s();\n  const [loading, setloading] = useState(false);\n  const {\n    classID,\n    id\n  } = useParams();\n  const [students, setstudents] = useState([]);\n  useEffect(() => {\n    if (id) {\n      axios.get(`/attendance/attendance/${id}`).then(res => {\n        console.log(res);\n        setstudents(res.data.users);\n      });\n    }\n  }, [id]);\n  const handleRegisterAttendance = () => {\n    setloading(true);\n    axios.put(`/attendance/update/${id}`, {\n      users: students\n    }).then(res => {\n      setloading(false);\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n    }).catch(err => {\n      console.log(err);\n      setloading(false);\n      errorAlert(\"Sorry something when wrong\");\n    });\n  };\n  const handleResetAttendance = () => {\n    axios.get(`/attendance/students/${id}`).then(res => {\n      console.log(res);\n      setstudents(res.data.users);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"mb-5\",\n      children: [\"Edit  \", classID, \" Attendance\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), classID && /*#__PURE__*/_jsxDEV(Table, {\n      attendanceData: students,\n      isEdit: true,\n      handleResetAttendance: handleResetAttendance,\n      handleRegister: handleRegisterAttendance,\n      loading: loading,\n      setattendanceData: setstudents\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n_s(RegisterAttendance, \"I3sZYXjXKKeAZfKLoqslVHtgibc=\", false, function () {\n  return [useParams];\n});\n_c = RegisterAttendance;\nexport default RegisterAttendance;\nvar _c;\n$RefreshReg$(_c, \"RegisterAttendance\");","map":{"version":3,"names":["React","useState","useEffect","Table","axios","errorAlert","useParams","jsxDEV","_jsxDEV","RegisterAttendance","_s","loading","setloading","classID","id","students","setstudents","get","then","res","console","log","data","users","handleRegisterAttendance","put","error","catch","err","handleResetAttendance","children","className","fileName","_jsxFileName","lineNumber","columnNumber","attendanceData","isEdit","handleRegister","setattendanceData","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/AdminComponents/attendance/StudentAttendance/EditAttendance.js"],"sourcesContent":["import React, {useState , useEffect} from 'react'\nimport  Table from '../../shared/RegisterAttendance';\nimport axios from '../../../store/axios';\nimport {errorAlert} from '../../../utils';\nimport {useParams} from 'react-router-dom'\n\n\n\nfunction RegisterAttendance() {\n    const [loading, setloading] = useState(false);\n    const {classID, id } = useParams()\n    const [students, setstudents] = useState([])\n\n\n    useEffect(() => {\n      if(id){\n        axios.get(`/attendance/attendance/${id}`).then(res => {\n          console.log(res)\n          setstudents(res.data.users) \n        })\n      }\n    }, [id])\n\n\n    const handleRegisterAttendance = () => {\n      setloading(true)\n      axios.put(`/attendance/update/${id}`, {users: students}).then(res => {\n        setloading(false)\n          if(res.data.error){\n               errorAlert(res.data.error);\n               return 0\n          }\n      }).catch(err => {\n        console.log(err);\n        setloading(false)\n        errorAlert(\"Sorry something when wrong\");\n      })  \n    }\n\n    const handleResetAttendance = () => {\n      axios.get(`/attendance/students/${id}`).then(res => {\n        console.log(res)\n        setstudents(res.data.users) \n      })\n    }\n\n\n    return (\n        <div>\n            <h3 className=\"mb-5\">\n                Edit  {classID} Attendance\n            </h3>\n              {classID &&    \n              <Table  \n                 attendanceData={students} \n                 isEdit={true}\n                 handleResetAttendance ={ handleResetAttendance }\n                 handleRegister={ handleRegisterAttendance }\n                 loading={loading}\n                 setattendanceData={setstudents}/>}\n        </div>\n    )\n}\n\nexport default RegisterAttendance\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}