{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\StudentComponents\\\\messages\\\\MessageTeacher.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport SendForm from \"../../components/messages/SendToForm\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../store/slices/userSlice\";\nimport axios from \"../../store/axios\";\nimport { errorAlert, successAlert } from \"../../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MessageTeacher() {\n  _s();\n  const [message, setmessage] = useState(\"\");\n  const [recipient, setrecipient] = useState(\"\");\n  const [recipientOptions, setrecipientOptions] = useState([]);\n  const user = useSelector(selectUser);\n  const [loading, setloading] = useState(false);\n  useEffect(() => {\n    axios.get(\"/teachers\").then(res => {\n      setrecipientOptions(res.data.map(e => {\n        return {\n          id: e.userID,\n          name: e.name,\n          surname: e.surname\n        };\n      }));\n    });\n  }, []);\n  const onSend = e => {\n    e.preventDefault();\n    if (message && recipient) {\n      setloading(true);\n      axios.post(`/chats/user`, {\n        message,\n        senderID: user === null || user === void 0 ? void 0 : user.userID,\n        userID: recipient\n      }).then(res => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"message send\");\n        setmessage(\"\");\n      });\n    }\n  };\n  const searchOptions = () => {\n    return recipientOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: option.id,\n      children: [option.name, \" \", option.surname, \" \", option.id, \" \"]\n    }, option.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(SendForm, {\n      message: message,\n      setmessage: setmessage,\n      onSend: onSend,\n      recipientsOptions: recipientOptions,\n      recipient: recipient,\n      sendto: \"Teacher\",\n      loading: loading,\n      searchOptions: searchOptions,\n      setrecipient: setrecipient,\n      sender: user === null || user === void 0 ? void 0 : user.userID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(MessageTeacher, \"AAdbh4OK4LJvH/YEl8quQ+e01HI=\", false, function () {\n  return [useSelector];\n});\n_c = MessageTeacher;\nexport default MessageTeacher;\nvar _c;\n$RefreshReg$(_c, \"MessageTeacher\");","map":{"version":3,"names":["React","useState","useEffect","SendForm","useSelector","selectUser","axios","errorAlert","successAlert","jsxDEV","_jsxDEV","MessageTeacher","_s","message","setmessage","recipient","setrecipient","recipientOptions","setrecipientOptions","user","loading","setloading","get","then","res","data","map","e","id","userID","name","surname","onSend","preventDefault","post","senderID","error","searchOptions","option","value","children","fileName","_jsxFileName","lineNumber","columnNumber","recipientsOptions","sendto","sender","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/StudentComponents/messages/MessageTeacher.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport SendForm from \"../../components/messages/SendToForm\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../store/slices/userSlice\";\nimport axios from \"../../store/axios\";\nimport { errorAlert, successAlert } from \"../../utils\";\n\nfunction MessageTeacher() {\n  const [message, setmessage] = useState(\"\");\n  const [recipient, setrecipient] = useState(\"\");\n  const [recipientOptions, setrecipientOptions] = useState([]);\n  const user = useSelector(selectUser);\n  const [loading, setloading] = useState(false);\n\n  useEffect(() => {\n    axios.get(\"/teachers\").then((res) => {\n      setrecipientOptions(\n        res.data.map((e) => {\n          return {\n            id: e.userID,\n            name: e.name,\n            surname: e.surname,\n          };\n        })\n      );\n    });\n  }, []);\n\n  const onSend = (e) => {\n    e.preventDefault();\n    if (message && recipient) {\n      setloading(true);\n      axios\n        .post(`/chats/user`, {\n          message,\n          senderID: user?.userID,\n          userID: recipient,\n        })\n        .then((res) => {\n          setloading(false);\n          if (res.data.error) {\n            errorAlert(res.data.error);\n            return 0;\n          }\n          successAlert(\"message send\");\n          setmessage(\"\");\n        });\n    }\n  };\n\n  const searchOptions = () => {\n    return recipientOptions.map((option) => (\n      <option key={option.id} value={option.id}>\n        {option.name} {option.surname} {option.id}{\" \"}\n      </option>\n    ));\n  };\n\n  return (\n    <div>\n      <SendForm\n        message={message}\n        setmessage={setmessage}\n        onSend={onSend}\n        recipientsOptions={recipientOptions}\n        recipient={recipient}\n        sendto=\"Teacher\"\n        loading={loading}\n        searchOptions={searchOptions}\n        setrecipient={setrecipient}\n        sender={user?.userID}\n      />\n    </div>\n  );\n}\n\nexport default MessageTeacher;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}