{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\StudentComponents\\\\messages\\\\MessageAdmin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport SendForm from \"../../components/messages/SendToForm\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../store/slices/userSlice\";\nimport axios from \"../../store/axios\";\nimport { errorAlert, successAlert } from \"../../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MessageAdmin() {\n  _s();\n  const [message, setmessage] = useState(\"\");\n  const [recipient, setrecipient] = useState(\"admin\");\n  const user = useSelector(selectUser);\n  const [loading, setloading] = useState(false);\n  const recipientOptions = [{\n    id: \"admin\",\n    name: \"admin\"\n  }];\n  const onSend = e => {\n    e.preventDefault();\n    if (message && recipient) {\n      setloading(true);\n      axios.post(`/chats/user`, {\n        message,\n        sender: user === null || user === void 0 ? void 0 : user.id,\n        userID: recipient,\n        telephone: \"\"\n      }).then(res => {\n        console.log(res);\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"message send\");\n        setmessage(\"\");\n      }).catch(err => {\n        console.log(err);\n        setloading(false);\n      });\n    }\n  };\n  const searchOptions = () => {\n    return recipientOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: option.id,\n      children: option.name\n    }, option.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(SendForm, {\n      message: message,\n      setmessage: setmessage,\n      onSend: onSend,\n      loading: loading,\n      recipient: recipient,\n      searchOptions: searchOptions,\n      sendto: \"School Admin\",\n      setrecipient: setrecipient,\n      sender: user === null || user === void 0 ? void 0 : user.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(MessageAdmin, \"r/wiLu7/dgffkvDiHyR7VRh0hFg=\", false, function () {\n  return [useSelector];\n});\n_c = MessageAdmin;\nexport default MessageAdmin;\nvar _c;\n$RefreshReg$(_c, \"MessageAdmin\");","map":{"version":3,"names":["React","useState","SendForm","useSelector","selectUser","axios","errorAlert","successAlert","jsxDEV","_jsxDEV","MessageAdmin","_s","message","setmessage","recipient","setrecipient","user","loading","setloading","recipientOptions","id","name","onSend","e","preventDefault","post","sender","userID","telephone","then","res","console","log","data","error","catch","err","searchOptions","map","option","value","children","fileName","_jsxFileName","lineNumber","columnNumber","sendto","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/StudentComponents/messages/MessageAdmin.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport SendForm from \"../../components/messages/SendToForm\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../store/slices/userSlice\";\nimport axios from \"../../store/axios\";\nimport { errorAlert, successAlert } from \"../../utils\";\n\nfunction MessageAdmin() {\n  const [message, setmessage] = useState(\"\");\n  const [recipient, setrecipient] = useState(\"admin\");\n  const user = useSelector(selectUser);\n  const [loading, setloading] = useState(false);\n\n  const recipientOptions = [\n    {\n      id: \"admin\",\n      name: \"admin\",\n    },\n  ];\n\n  const onSend = (e) => {\n    e.preventDefault();\n    if (message && recipient) {\n      setloading(true);\n      axios\n        .post(`/chats/user`, {\n          message,\n          sender: user?.id,\n          userID: recipient,\n          telephone: \"\",\n        })\n        .then((res) => {\n          console.log(res);\n          setloading(false);\n          if (res.data.error) {\n            errorAlert(res.data.error);\n            return 0;\n          }\n          successAlert(\"message send\");\n          setmessage(\"\");\n        })\n        .catch((err) => {\n          console.log(err);\n          setloading(false);\n        });\n    }\n  };\n\n  const searchOptions = () => {\n    return recipientOptions.map((option) => (\n      <option key={option.id} value={option.id}>\n        {option.name}\n      </option>\n    ));\n  };\n\n  return (\n    <div>\n      <SendForm\n        message={message}\n        setmessage={setmessage}\n        onSend={onSend}\n        loading={loading}\n        recipient={recipient}\n        searchOptions={searchOptions}\n        sendto=\"School Admin\"\n        setrecipient={setrecipient}\n        sender={user?.id}\n      />\n    </div>\n  );\n}\n\nexport default MessageAdmin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}