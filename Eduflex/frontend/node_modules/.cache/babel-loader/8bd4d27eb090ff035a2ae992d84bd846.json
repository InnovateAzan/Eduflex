{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abdul Rehman\\\\Desktop\\\\Project\\\\First_And_Second_Module_v1.0\\\\frontend\\\\src\\\\AdminComponents\\\\academics\\\\courses\\\\EditCourse.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport EditForm from \"./CourseForm\";\nimport axios from \"../../../store/axios\";\nimport { useParams } from \"react-router-dom\";\nimport { errorAlert, successAlert } from \"../../../utils\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction EditCourse() {\n  _s();\n  const [name, setname] = useState(\"\");\n  const [code, setcode] = useState(\"\");\n  const [loading, setloading] = useState(\"\");\n  const [type, settype] = useState(\"\");\n  const [teacher, setteacher] = useState(\"\");\n  const [classID, setclassID] = useState(\"\");\n  const {\n    id\n  } = useParams();\n  const [classesArr, setclassesArr] = useState([]);\n  const handleSetclasses = e => {\n    setclassID(e);\n    setclassesArr([...classesArr, e]);\n  };\n  const handleUniqueVal = arr => {\n    let unique = [];\n    arr.map(i => {\n      let check = unique.find(e => e.class === i.class && e.teacher === i.teacher);\n      if (!check) {\n        unique.push(i);\n      }\n    });\n    return unique;\n  };\n  useEffect(() => {\n    axios.get(`/courses/${id}`).then(res => {\n      console.log(res.data);\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n      const {\n        docs\n      } = res.data;\n      setclassID(docs === null || docs === void 0 ? void 0 : docs.classID);\n      setname(docs === null || docs === void 0 ? void 0 : docs.name);\n      settype(docs === null || docs === void 0 ? void 0 : docs.type);\n      setteacher(docs === null || docs === void 0 ? void 0 : docs.teacher);\n      setcode(docs === null || docs === void 0 ? void 0 : docs.code);\n      setclassesArr(docs === null || docs === void 0 ? void 0 : docs.classes);\n    });\n  }, [id]);\n  const handleEdit = () => {\n    setloading(true);\n    let classesData = classesArr.filter(e => e.class !== \"\" || e.teacher !== \"\");\n    let classes = handleUniqueVal(classesData);\n    console.log(classesData);\n    axios.put(`/courses/update/${id}`, {\n      name,\n      code,\n      type,\n      teacher,\n      classID,\n      classes\n    }).then(res => {\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n      successAlert(\"successfully edited\");\n      setloading(false);\n      console.log(classes);\n    }).catch(() => {\n      errorAlert(\"Something went wrong\");\n      setloading(false);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-4\",\n        children: \"Edit Course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EditForm, {\n        type: type,\n        settype: settype,\n        setteacher: setteacher,\n        teacher: teacher,\n        onSubmit: handleEdit,\n        name: name,\n        handleSetclasses: handleSetclasses,\n        loading: loading,\n        setname: setname,\n        classID: classID,\n        classesArr: classesArr,\n        setclassesArr: setclassesArr,\n        code: code,\n        isEdit: true,\n        setcode: setcode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(EditCourse, \"oA59wdEDeLcciWpitJkLvJi8UWo=\", false, function () {\n  return [useParams];\n});\n_c = EditCourse;\nexport default EditCourse;\nvar _c;\n$RefreshReg$(_c, \"EditCourse\");","map":{"version":3,"names":["React","useState","useEffect","EditForm","axios","useParams","errorAlert","successAlert","jsxDEV","_jsxDEV","Fragment","_Fragment","EditCourse","_s","name","setname","code","setcode","loading","setloading","type","settype","teacher","setteacher","classID","setclassID","id","classesArr","setclassesArr","handleSetclasses","e","handleUniqueVal","arr","unique","map","i","check","find","class","push","get","then","res","console","log","data","error","docs","classes","handleEdit","classesData","filter","put","catch","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","isEdit","_c","$RefreshReg$"],"sources":["C:/Users/Abdul Rehman/Desktop/Project/First_And_Second_Module_v1.0/frontend/src/AdminComponents/academics/courses/EditCourse.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport EditForm from \"./CourseForm\";\nimport axios from \"../../../store/axios\";\nimport { useParams } from \"react-router-dom\";\nimport { errorAlert, successAlert } from \"../../../utils\";\n\nfunction EditCourse() {\n  const [name, setname] = useState(\"\");\n  const [code, setcode] = useState(\"\");\n  const [loading, setloading] = useState(\"\");\n  const [type, settype] = useState(\"\");\n  const [teacher, setteacher] = useState(\"\");\n  const [classID, setclassID] = useState(\"\");\n  const { id } = useParams();\n  const [classesArr, setclassesArr] = useState([]);\n\n  const handleSetclasses = (e) => {\n    setclassID(e);\n    setclassesArr([...classesArr, e]);\n  };\n\n  const handleUniqueVal = (arr) => {\n    let unique = [];\n    arr.map((i) => {\n      let check = unique.find(\n        (e) => e.class === i.class && e.teacher === i.teacher\n      );\n      if (!check) {\n        unique.push(i);\n      }\n    });\n    return unique;\n  };\n\n  useEffect(() => {\n    axios.get(`/courses/${id}`).then((res) => {\n      console.log(res.data);\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n      const { docs } = res.data;\n      setclassID(docs?.classID);\n      setname(docs?.name);\n      settype(docs?.type);\n      setteacher(docs?.teacher);\n      setcode(docs?.code);\n      setclassesArr(docs?.classes);\n    });\n  }, [id]);\n\n  const handleEdit = () => {\n    setloading(true);\n    let classesData = classesArr.filter(\n      (e) => e.class !== \"\" || e.teacher !== \"\"\n    );\n    let classes = handleUniqueVal(classesData);\n    console.log(classesData);\n    axios\n      .put(`/courses/update/${id}`, {\n        name,\n        code,\n        type,\n        teacher,\n        classID,\n        classes,\n      })\n      .then((res) => {\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"successfully edited\");\n        setloading(false);\n        console.log(classes);\n      })\n      .catch(() => {\n        errorAlert(\"Something went wrong\");\n        setloading(false);\n      });\n  };\n\n  return (\n    <>\n      {/* <GoBack link=\"/academics/courses\" name=\"Go back to Courses List\" /> */}\n      <div className=\"content__container\">\n        <h3 className=\"mb-4\">Edit Course</h3>\n        <EditForm\n          type={type}\n          settype={settype}\n          setteacher={setteacher}\n          teacher={teacher}\n          onSubmit={handleEdit}\n          name={name}\n          handleSetclasses={handleSetclasses}\n          loading={loading}\n          setname={setname}\n          classID={classID}\n          classesArr={classesArr}\n          setclassesArr={setclassesArr}\n          code={code}\n          isEdit={true}\n          setcode={setcode}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default EditCourse;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}